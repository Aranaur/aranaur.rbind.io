<!DOCTYPE html>
<html lang="en"><head>
<script src=".08_files/libs/clipboard/clipboard.min.js"></script>
<script src=".08_files/libs/quarto-html/tabby.min.js"></script>
<script src=".08_files/libs/quarto-html/popper.min.js"></script>
<script src=".08_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href=".08_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href=".08_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href=".08_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href=".08_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src=".08_files/libs/quarto-contrib/iconify-1.0.7/iconify-icon.min.js"></script><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <meta name="author" content="Ihor Miroshnychenko">
  <title>t-test</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href=".08_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href=".08_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href=".08_files/libs/revealjs/dist/theme/quarto.css">
  <link href=".08_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/verticator/verticator.css" rel="stylesheet">
  <link href=".08_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-iframe=".08_files/libs/colored-particles/index.html" class="quarto-title-block center">
  <h1 class="title"><span class="math inline">\(t\)</span>-test</h1>
  <p class="subtitle">Descriptive Statistics</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ihor Miroshnychenko 
</div>
        <p class="quarto-title-affiliation">
            Kyiv School of Economics
          </p>
    </div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#/t-test" id="/toc-t-test"><span class="math inline">\(t\)</span>-test</a></li>
<li><a href="#/confidence-intervals" id="/toc-confidence-intervals">Confidence intervals</a></li>
<li><a href="#/t-test-and-unknown-distribution" id="/toc-t-test-and-unknown-distribution"><span class="math inline">\(t\)</span>-test and unknown distribution</a></li>
<li><a href="#/two-sample-t-test.-the-task-of-ab-testing" id="/toc-two-sample-t-test.-the-task-of-ab-testing">Two-sample <span class="math inline">\(t\)</span>-test. The task of AB testing</a></li>
<li><a href="#/mde-for-the-t-test." id="/toc-mde-for-the-t-test.">MDE for the <span class="math inline">\(t\)</span>-test.</a></li>
</ul>
</nav>
</section>
<section>
<section id="t-test" class="title-slide slide level1 center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1><span class="math inline">\(t\)</span>-test</h1>

</section>
<section id="task" class="slide level2 smaller">
<h2>üìà Task</h2>
<blockquote>
<p>Our company wants to switch from one DBMS to another. The main criterion for the transition is ‚Äúthe time spent per day loading new data.‚Äù If previously it took an average of 10 hours to update the database on a daily basis, we want to find a new DBMS that will do it faster than 7 hours.</p>
<p>To do this, we decided to transfer all the data to the new database under test. During one week, we will calculate the data loading time every day, and if the average time for updating is less than 7 hours, then we will completely switch to the new DBMS. Your task is to come up with a way to test the hypothesis that the new DBMS is better than the old one.</p>
</blockquote>
<p>The sample is:</p>
<ul>
<li><code>[6.9, 6.45, 6.32, 6.88, 6.19, 7.13, 6.76]</code> ‚Äî the time to load into the new database by day in hours.</li>
</ul>
</section>
<section id="hypothesis" class="slide level2">
<h2>üìä Hypothesis</h2>
<ul>
<li><span class="math inline">\(X_1, X_2, ..., X_7\)</span> ‚Äî the time of loading new data into the DBMS in hours for each day of the experiment</li>
<li><span class="math inline">\(X\)</span> from the normal distribution.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">6.9</span>, <span class="fl">6.45</span>, <span class="fl">6.32</span>, <span class="fl">6.88</span>, <span class="fl">6.09</span>, <span class="fl">7.13</span>, <span class="fl">6.76</span>)</span>
<span id="cb1-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Average time of loading into the DBMS:"</span> , <span class="fu">mean</span>(X) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>), <span class="st">"hours"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average time of loading into the DBMS: 6.65 hours</code></pre>
</div>
</div>
<ul>
<li><span class="math inline">\(H_0: \bar{X} \geq 7\)</span> vs.&nbsp;<span class="math inline">\(H_1: \bar{X} &lt; 7\)</span></li>
</ul>
</section>
<section id="z-test" class="slide level2">
<h2>üìê <span class="math inline">\(Z\)</span>-test</h2>
<ul>
<li>The statistic <span class="math inline">\(Z(X) = \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{\sigma^2}}\)</span></li>
</ul>
<div class="fragment">
<p>Then you just need to calculate the following statistics: <span class="math display">\[\sqrt{n}\dfrac{\overline X - 7}{\sqrt{\sigma^2}} \overset{H_0}{\sim} \mathcal{N}(0, 1)\]</span></p>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>But there‚Äôs one problem: <span class="hi">we don‚Äôt know <span class="math inline">\(\sigma^2\)</span>!</span></p>
</div>
</div>
</div>
</div>
</section>
<section id="t-test-1" class="slide level2 smaller">
<h2>üìê <span class="math inline">\(t'\)</span>-test</h2>
<p><span class="math inline">\(\widehat{\sigma^2} =S^2 = \dfrac{1}{n - 1}\underset{i=1}{\overset{n}{\sum}}(X_i - \overline X)^2\)</span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Sample variance: "</span>, <span class="fu">var</span>(X))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sample variance:  0.1367238</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Let‚Äôs introduce a new criterion, the <span class="math inline">\(t\)</span>-test, in which we substitute:</p>
<ul>
<li><span class="math inline">\(T(X) := \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{S^2}}\)</span></li>
<li><span class="math inline">\(T(X) \overset{H_0}{\sim} \mathcal{N}(0, 1)\)</span> ü§®</li>
</ul>
</div>
<div class="fragment">
<blockquote>
<p>It remains to be seen: Is it true that at <span class="math inline">\(H_0\)</span> the distribution of the statistic T is standard normal?</p>
</blockquote>
</div>
</section>
<section id="distribution-of-statistics" class="slide level2">
<h2>üìä Distribution of statistics</h2>
<ul>
<li>We will generate a sample <span class="math inline">\(X\)</span> <span class="math inline">\(M\)</span> times and calculate the statistic <span class="math inline">\(T(X)\)</span> each time.</li>
<li>As a result, we will get a sample of size <span class="math inline">\(M\)</span> for <span class="math inline">\(T(X)\)</span> and can draw a histogram of the distribution.</li>
<li>We will also plot the distribution <span class="math inline">\(\mathcal{N}(0, 1)\)</span> separately.</li>
<li>If the empirical distribution visually coincides with the theoretical normal distribution, then everything is fine. If not, then we cannot simply replace <span class="math inline">\(\sigma^2\)</span> with <span class="math inline">\(S^2\)</span>.
<ul>
<li>Additionally, let‚Äôs see what happens if we replace <span class="math inline">\(T(X)\)</span> with <span class="math inline">\(Z(X)\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="r-and-statistics-distribution" class="slide level2 smaller">
<h2>R and üìä Statistics distribution</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="dv">100000</span></span>
<span id="cb5-2"><a href="" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb5-3"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">T_X =</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span>M, <span class="sc">~</span> {</span>
<span id="cb5-6"><a href="" aria-hidden="true" tabindex="-1"></a>    sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span>
<span id="cb5-7"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sqrt</span>(sample_size) <span class="sc">*</span> (<span class="fu">mean</span>(sample) <span class="sc">-</span> <span class="dv">5</span>) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(sample))</span>
<span id="cb5-8"><a href="" aria-hidden="true" tabindex="-1"></a>  }),</span>
<span id="cb5-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">Z_X =</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span>M, <span class="sc">~</span> {</span>
<span id="cb5-10"><a href="" aria-hidden="true" tabindex="-1"></a>    sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span>
<span id="cb5-11"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sqrt</span>(sample_size) <span class="sc">*</span> (<span class="fu">mean</span>(sample) <span class="sc">-</span> <span class="dv">5</span>) <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb5-12"><a href="" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-13"><a href="" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Statistic"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb5-15"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="" aria-hidden="true" tabindex="-1"></a>plot_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 200,000 √ó 2
   Statistic    Value
   &lt;chr&gt;        &lt;dbl&gt;
 1 T_X        1.14   
 2 Z_X       -0.834  
 3 T_X        0.624  
 4 Z_X        0.867  
 5 T_X       -0.0568 
 6 Z_X        2.99   
 7 T_X        0.668  
 8 Z_X       -0.444  
 9 T_X        0.0945 
10 Z_X       -0.00843
# ‚Ñπ 199,990 more rows</code></pre>
</div>
</div>
</section>
<section id="r-and-statistics-distribution-1" class="slide level2 smaller">
<h2>R and üìä Statistics distribution</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="" aria-hidden="true" tabindex="-1"></a>plot_data <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Value, <span class="at">group =</span> Statistic)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">color =</span> blue), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_function</span>(<span class="fu">aes</span>(<span class="at">color =</span> red), <span class="at">fun =</span> dnorm, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> Statistic, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb7-8"><a href="" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Distribution of statistics T(X) and Z(X)"</span>,</span>
<span id="cb7-9"><a href="" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb7-10"><a href="" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb7-11"><a href="" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"Distribution"</span></span>
<span id="cb7-12"><a href="" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-13"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-14"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="fu">quantile</span>(plot_data<span class="sc">$</span>Value, <span class="fl">0.001</span>), <span class="fu">quantile</span>(plot_data<span class="sc">$</span>Value, <span class="fl">0.999</span>)) <span class="sc">+</span></span>
<span id="cb7-15"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Theoretical"</span>, <span class="st">"Empirical"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src=".08_files/figure-revealjs/t-test-sim-run-1.svg" class="quarto-figure quarto-figure-center r-stretch"><div class="callout callout-important no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<ul>
<li>The <span class="math inline">\(Z\)</span>-test works here: <span class="math inline">\(\sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{\sigma^2}} \sim \mathcal{N}(0, 1)\)</span>.</li>
<li>But this is not the case for <span class="math inline">\(T(X)\)</span>! <span class="hi">They are different! So the <span class="math inline">\(t'\)</span>-test is not suitable for the original problem!</span></li>
</ul>
</div>
</div>
</div>
</section>
<section id="why-did-it-happen" class="slide level2 smaller">
<h2>üìù Why did it happen?</h2>
<p><span class="math inline">\(S^2\)</span> is a random variable!</p>
<p>Let‚Äôs look at the distribution of <span class="math inline">\(\sqrt{S^2}\)</span> on the same normal distribution.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="" aria-hidden="true" tabindex="-1"></a>sigma_hat <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span>M, <span class="sc">~</span> {</span>
<span id="cb8-2"><a href="" aria-hidden="true" tabindex="-1"></a>  sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span>
<span id="cb8-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(<span class="fu">var</span>(sample))</span>
<span id="cb8-4"><a href="" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-5"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">Sigma_hat =</span> sigma_hat) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sigma_hat)) <span class="sc">+</span></span>
<span id="cb8-8"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">color =</span> blue), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-11"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of the sample standard deviation"</span>,</span>
<span id="cb8-12"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb8-13"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb8-14"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Distribution"</span></span>
<span id="cb8-15"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-16"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-17"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">quantile</span>(sigma_hat, <span class="fl">0.001</span>), <span class="fu">quantile</span>(sigma_hat, <span class="fl">0.999</span>)) <span class="sc">+</span></span>
<span id="cb8-18"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Theoretical"</span>, <span class="st">"Empirical"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src=".08_files/figure-revealjs/sigma-hat-sim-1.svg" class="quarto-figure quarto-figure-center r-stretch"><div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Conclusion.</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(T(X) \overset{H_0}{\nsim} \mathcal{N}(0, 1)\)</span> üò≠</p>
</div>
</div>
</div>
</section>
<section id="what-is-the-distribution-of-tx" class="slide level2 tiny40">
<h2>What is the distribution of <span class="math inline">\(T(X)\)</span>?</h2>
<ol type="1">
<li><p>Let <span class="math inline">\(X_1 \ldots X_n \sim \mathcal{N}(\mu, \sigma^2)\)</span></p></li>
<li><p>Let <span class="math inline">\(\xi_1 \ldots \xi_n \sim \mathcal{N}(0, 1)\)</span>. Then <span class="math inline">\(\eta=\xi_1^2 +\ ... +\xi_n^2 \sim \chi^2_n\)</span>, ‚Äî <a href="https://en.wikipedia.org/wiki/Chi-squared_distribution"><strong><span class="math inline">\(\chi^2\)</span> distribution with <span class="math inline">\(n\)</span> degrees of freedom</strong></a>.</p>
<ul>
<li><p>Then <span class="math inline">\(\underset{i=1}{\overset{n}{\sum}}\left(\xi_i - \overline \xi \right)^2 \sim \chi^2_{n-1}\)</span>. <a href="https://en.wikipedia.org/wiki/Cochran%27s_theorem">Proof</a> ü´†</p></li>
<li><p><span class="math inline">\(S^2_X = \dfrac{1}{n - 1}\underset{i=1}{\overset{n}{\sum}}(X_i - \overline X)^2\)</span></p></li>
<li><p><span class="math inline">\(\xi_i := \dfrac{X_i - \mu}{\sigma} \sim \mathcal{N}(0, 1)\)</span>. Then <span class="math inline">\(S^2_{\xi} = \dfrac{1}{\sigma^2}S^2_X\)</span>.</p></li>
<li><p>So <span class="math inline">\(\dfrac{(n - 1)\cdot S^2_X}{\sigma^2} = \underset{i=1}{\overset{n}{\sum}}\left(\xi_i - \overline \xi \right)^2 \sim \chi^2_{n-1}\)</span>.</p></li>
</ul></li>
<li><p>Let <span class="math inline">\(\xi \sim \mathcal{N}(0, 1), \eta \sim \chi^2_k\)</span> and <span class="math inline">\(\xi\)</span> with <span class="math inline">\(\eta\)</span> be independent. Then the statistic <span class="math inline">\(\zeta = \dfrac{\xi}{\sqrt{\eta/k}} \sim t_{k}\)</span> ‚Äî from the <a href="https://en.wikipedia.org/wiki/Student%27s_t-distribution">Student‚Äôs distribution</a> with <span class="math inline">\(k\)</span> degrees of freedom.</p>
<ul>
<li><span class="math inline">\(\xi := \sqrt{n}\dfrac{\overline X - \mu_0}{\sigma} \sim \mathcal{N}(0, 1)\)</span></li>
<li><span class="math inline">\(\eta := \dfrac{(n - 1)\cdot S^2_X}{\sigma^2} \sim \chi^2_{n-1}\)</span></li>
<li><span class="math inline">\(\xi\)</span> and <span class="math inline">\(\eta\)</span> are <a href="https://math.stackexchange.com/questions/4165803/overlinex-and-s2-are-independent">independent</a></li>
<li>Then</li>
</ul></li>
</ol>
<p><span class="math display">\[
\begin{align}
T = \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{S^2}} = \frac{\sqrt{n}\dfrac{\overline X - \mu_0}{\sigma}}{\sqrt{\dfrac{(n - 1)\cdot S^2_X}{(n - 1)\sigma^2}}} = \dfrac{\xi}{\sqrt{\dfrac{\eta}{n-1}}} \sim t_{n - 1}
\end{align}
\]</span></p>
</section>
<section id="problem-and-t-test" class="slide level2 smaller">
<h2>üìà Problem and üìê <span class="math inline">\(t\)</span>-test</h2>
<p><span class="math inline">\(T = \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{S^2}} \sim t_{n - 1}\)</span> ‚Äî taken from a Student‚Äôs distribution with <span class="math inline">\(n - 1\)</span> degrees of freedom.</p>
<p><br></p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">6.9</span>, <span class="fl">6.45</span>, <span class="fl">6.32</span>, <span class="fl">6.88</span>, <span class="fl">6.09</span>, <span class="fl">7.13</span>, <span class="fl">6.76</span>)</span>
<span id="cb9-2"><a href="" aria-hidden="true" tabindex="-1"></a>t_stat <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="dv">7</span>) <span class="sc">*</span> (<span class="fu">mean</span>(X) <span class="sc">-</span> <span class="dv">7</span>) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(X))</span>
<span id="cb9-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"t-statistic:"</span>, t_stat <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>t-statistic: -2.52</code></pre>
</div>
</div></div>
<p><br></p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">=</span> <span class="fu">pt</span>(t_stat, <span class="at">df =</span> sample_size <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb11-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"p-value:"</span>, p_value <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>p-value: 0.0225</code></pre>
</div>
</div></div>
<p><br></p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(X, <span class="at">mu =</span> <span class="dv">7</span>, <span class="at">alternative =</span> <span class="st">"less"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  X
t = -2.5248, df = 6, p-value = 0.0225
alternative hypothesis: true mean is less than 7
95 percent confidence interval:
     -Inf 6.918716
sample estimates:
mean of x 
 6.647143 </code></pre>
</div>
</div></div>
</section></section>
<section>
<section id="confidence-intervals" class="title-slide slide level1 center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1>Confidence intervals</h1>

</section>
<section id="confidence-interval-for-the-mean-option-1" class="slide level2 tiny">
<h2>üìä Confidence interval for the mean: option 1</h2>
<p><span class="hi">Confidence interval</span> ‚Äî set <span class="math inline">\(m\)</span>: the test does not reject <span class="math inline">\(H_0: \mu = m\)</span> at the significance level <span class="math inline">\(\alpha\)</span>.</p>
<ul>
<li><p>Let <span class="math inline">\(\mu\)</span> be the true mean of the sample. We also know that for <span class="math inline">\(H_0: \sqrt{n}\dfrac{\overline X - m}{\sqrt{S^2}} \sim t_{n - 1}\)</span>.</p></li>
<li><p>We are interested in <span class="math inline">\(m\)</span> such that: <span class="math inline">\(\left\{-t_{n-1, 1 - \frac{\alpha}{2}} &lt; \sqrt{n}\dfrac{\overline X - m}{\sqrt{S^2}} &lt; t_{n-1, 1 - \frac{\alpha}{2}} \right\}\)</span>, in which case the criterion will not be rejected.</p></li>
<li><p>Let‚Äôs write it so that only <span class="math inline">\(m\)</span> remains in the center:</p></li>
</ul>
<p><span class="math display">\[\left\{\overline X - \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}} &lt; m &lt; \overline X + \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}}\right\}\]</span></p>
<ul>
<li>Then the confidence interval:</li>
</ul>
<p><span class="math display">\[CI_{\mu} = \left(\overline X \pm \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}} \right),\]</span></p>
<p>where <span class="math inline">\(S^2 = \dfrac{1}{n - 1}\underset{i=1}{\overset{n}{\sum}}(X_i - \overline X)^2\)</span></p>
</section>
<section id="confidence-interval-for-the-mean-option-2" class="slide level2 tiny">
<h2>üìä Confidence interval for the mean: option 2</h2>
<p><a href="https://en.wikipedia.org/wiki/Confidence_interval#Definition">Classical definition</a> of a confidence interval:</p>
<blockquote>
<p>A confidence interval for a parameter <span class="math inline">\(\theta\)</span> of confidence level <span class="math inline">\(1 - \alpha\)</span> is a pair of statistics <span class="math inline">\(L(X), R(X)\)</span> such that <span class="math inline">\(P(L(X) &lt; \theta &lt; R(X)) = 1 - \alpha\)</span>.</p>
</blockquote>
<p><span class="math display">\[
\begin{align}
&amp;T(X) = \sqrt{n}\dfrac{\overline X - \mu}{\sqrt{S^2}} \sim t_{n - 1} \Rightarrow \\
&amp;P\left(-t_{n - 1, 1-\alpha/2} &lt; \sqrt{n}\dfrac{\overline X - \mu}{\sqrt{S^2}} &lt; t_{n - 1, 1-\alpha/2} \right) = 1 - \alpha \Leftrightarrow \\
&amp;P\left(\overline X - \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}}  &lt; \mu &lt; \overline X + \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}} \right) = 1 - \alpha
\end{align}
\]</span></p>
<ul>
<li>Then the confidence interval:</li>
</ul>
<p><span class="math display">\[CI_{\mu} = \left(\overline X \pm \dfrac{t_{n - 1, 1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}} \right)\]</span></p>
</section>
<section id="r-and-confidence-interval" class="slide level2">
<h2>R and üìä confidence interval</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="" aria-hidden="true" tabindex="-1"></a>sample  <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span>
<span id="cb15-2"><a href="" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb15-3"><a href="" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(sample)</span>
<span id="cb15-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="" aria-hidden="true" tabindex="-1"></a>t_stat <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>, <span class="at">df =</span> n <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb15-6"><a href="" aria-hidden="true" tabindex="-1"></a>t_stat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.984217</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(sample) <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">*</span> t_stat <span class="sc">*</span> <span class="fu">sd</span>(sample) <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9.511524 10.335681</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(sample, <span class="at">conf.level =</span> <span class="dv">1</span> <span class="sc">-</span> alpha)<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9.511524 10.335681
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
</div></div>
<p>üìà Task</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">6.9</span>, <span class="fl">6.45</span>, <span class="fl">6.32</span>, <span class="fl">6.88</span>, <span class="fl">6.09</span>, <span class="fl">7.13</span>, <span class="fl">6.76</span>)</span>
<span id="cb21-2"><a href="" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb21-3"><a href="" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(X)</span>
<span id="cb21-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="" aria-hidden="true" tabindex="-1"></a>t_stat <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>, <span class="at">df =</span> n <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb21-6"><a href="" aria-hidden="true" tabindex="-1"></a>t_stat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.446912</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(X) <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">*</span> t_stat <span class="sc">*</span> <span class="fu">sd</span>(X) <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.305170 6.989116</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(X, <span class="at">conf.level =</span> <span class="dv">1</span> <span class="sc">-</span> alpha)<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.305170 6.989116
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
</div></div>
</section></section>
<section>
<section id="t-test-and-unknown-distribution" class="title-slide slide level1 center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1><span class="math inline">\(t\)</span>-test and unknown distribution</h1>

</section>
<section id="task-1" class="slide level2 tiny">
<h2>üìä Task</h2>
<blockquote>
<p>You have come up with an idea for a startup where couriers collect orders for customers and deliver them to their homes. The margin on an order in your startup is X ‚Ç¥, and the cost of a courier‚Äôs work is 1k ‚Ç¥. The specifics of your startup are such that there is a high risk of return without payment. Given the costs, investors are willing to sponsor your infrastructure and customer acquisition if you show that you will make a profit.</p>
<p>From the data, you have the money brought in from each user. Sometimes a positive value, sometimes negative.</p>
</blockquote>
<ul>
<li><span class="math inline">\(X_1, X_2, \dots X_N\)</span> ‚Äî a sample of the user‚Äôs profit.</li>
<li><span class="math inline">\(H_0\)</span>: <span class="math inline">\(E \overline{X} \leq 0\)</span> vs.&nbsp;<span class="math inline">\(H_1: E \overline{X} &gt; 0\)</span></li>
</ul>
<p>Data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="" aria-hidden="true" tabindex="-1"></a>profits <span class="ot">=</span> <span class="fu">read_table</span>(<span class="st">'data/profit_from_user.out'</span>, <span class="at">col_names =</span> <span class="st">"profit"</span>)</span>
<span id="cb27-2"><a href="" aria-hidden="true" tabindex="-1"></a>profits</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,000 √ó 1
   profit
    &lt;dbl&gt;
 1   -718
 2    657
 3    693
 4    391
 5   -644
 6    421
 7    265
 8   -108
 9   1956
10   -684
# ‚Ñπ 4,990 more rows</code></pre>
</div>
</div>
</section>
<section id="task-2" class="slide level2 smaller">
<h2>üìä Task</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Average profit:"</span>, <span class="fu">mean</span>(profits<span class="sc">$</span>profit) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>), <span class="st">"‚Ç¥"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average profit: 58.49 ‚Ç¥</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Sample size:"</span>, <span class="fu">nrow</span>(profits))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sample size: 5000</code></pre>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="" aria-hidden="true" tabindex="-1"></a>profits <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> profit)) <span class="sc">+</span></span>
<span id="cb33-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> blue, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb33-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb33-6"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of profits"</span>,</span>
<span id="cb33-7"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Profit, ‚Ç¥"</span>,</span>
<span id="cb33-8"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span></span>
<span id="cb33-9"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-10"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src=".08_files/figure-revealjs/profit-distplot-1.svg"></p>
</figure>
</div>
</div>
</div></div>
<ul>
<li>The initial sample is not from a normal distribution</li>
<li>The sample is quite large: not 7 items, but 5000.</li>
</ul>
<p><span class="hi">Can we use the normal distribution as an approximation?</span></p>
</section>
<section id="t-test-and-approximation" class="slide level2 tiny40">
<h2><span class="math inline">\(t\)</span>-test and approximation</h2>
<ol type="1">
<li>We will consider the same statistic <span class="math inline">\(T = \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{S^2}}\)</span>.</li>
<li><span class="math inline">\(\xi := \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{\sigma^2}} \stackrel{d}{\rightarrow} \mathcal{N}(0, 1)\)</span>. Under the CLT, the convergence is only under the <a href="https://en.wikipedia.org/wiki/Convergence_in_distribution">distribution</a>.</li>
<li>Then <span class="math inline">\(T = \sqrt{n}\dfrac{\overline X - \mu_0}{\sqrt{S^2}} = \xi \cdot \sqrt{\dfrac{\sigma^2}{S^2}}\)</span>. Let‚Äôs denote <span class="math inline">\(\phi := \sqrt{\dfrac{\sigma^2}{S^2}}\)</span>
<ul>
<li>Do you remember at the beginning of the lecture that <span class="math inline">\(S^2\)</span> is the best estimate for the variance? Another way to write this is: <span class="math inline">\(S^2\)</span> <a href="https://en.wikipedia.org/wiki/Convergence_of_random_variables#Convergence_in_probability">converges in probability</a> to <span class="math inline">\(\sigma^2\)</span>. That is, <span class="math inline">\(S^2 \stackrel{p}{\rightarrow} \sigma^2\)</span></li>
<li>And in this case, there is a <a href="https://en.wikipedia.org/wiki/Continuous_mapping_theorem">theorem</a> that states that <span class="math inline">\(\phi = \dfrac{\sigma^2}{S^2} \stackrel{p}{\rightarrow} 1\)</span>.</li>
</ul></li>
<li><span class="math inline">\(T = \xi \cdot \phi\)</span>.
<ul>
<li><span class="math inline">\(\xi \stackrel{d}{\rightarrow} \mathcal{N}(0, 1)\)</span></li>
<li><span class="math inline">\(\phi \stackrel{p}{\rightarrow} 1\)</span></li>
<li>And here another <a href="https://en.wikipedia.org/wiki/Slutsky%27s_theorem">theorem</a> comes into play: <span class="math inline">\(T = \xi \cdot \phi \stackrel{d}{\rightarrow} 1\cdot \mathcal{N}(0, 1)\)</span>. This is the same convergence as in the CLT!</li>
<li>That is, the statistic <span class="math inline">\(T\)</span> is also normally distributed!</li>
</ul></li>
</ol>
<p><span class="hi">So, if the sample is large, we can assume that <span class="math inline">\(T(X) \overset{H_0}{\sim} \mathcal{N}(0, 1)\)</span>.</span></p>
</section>
<section id="r-and-checking" class="slide level2 tiny40">
<h2>R and checking</h2>
<p>Let‚Äôs test our criterion on large samples:</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb34-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">2000</span></span>
<span id="cb34-4"><a href="" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb34-5"><a href="" aria-hidden="true" tabindex="-1"></a>sample_distr <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">+</span> <span class="fu">rexp</span>(<span class="at">rate =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">300</span>, <span class="at">n =</span> <span class="dv">2000</span>)</span>
<span id="cb34-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="" aria-hidden="true" tabindex="-1"></a>T_X <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span>M, <span class="sc">~</span> {</span>
<span id="cb34-8"><a href="" aria-hidden="true" tabindex="-1"></a>  sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(sample_distr, sample_size, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(sample_size) <span class="sc">*</span> (<span class="fu">mean</span>(sample) <span class="sc">-</span> <span class="fu">mean</span>(sample_distr)) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(sample))</span>
<span id="cb34-10"><a href="" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb34-11"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">T_X =</span> T_X) <span class="sc">%&gt;%</span> </span>
<span id="cb34-13"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> T_X)) <span class="sc">+</span></span>
<span id="cb34-14"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb34-15"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">color =</span> blue), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-16"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_function</span>(<span class="fu">aes</span>(<span class="at">color =</span> red), <span class="at">fun =</span> dnorm, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-17"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb34-18"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of the statistic T(X)"</span>,</span>
<span id="cb34-19"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb34-20"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb34-21"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Distribution"</span></span>
<span id="cb34-22"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb34-23"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-24"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Theoretical"</span>, <span class="st">"Empirical"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src=".08_files/figure-revealjs/sim-t-test-1.svg" class="quarto-figure quarto-figure-center r-stretch"><p>We can see that the distributions are the same!</p>
</section>
<section id="r-and-checking-1" class="slide level2 tiny40">
<h2>R and checking</h2>
<p>And on the normal distribution, where were the first differences on a small sample?</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb35-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">2000</span></span>
<span id="cb35-4"><a href="" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb35-5"><a href="" aria-hidden="true" tabindex="-1"></a>sample_distr <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">3</span>, <span class="at">n =</span> <span class="dv">300</span>)</span>
<span id="cb35-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="" aria-hidden="true" tabindex="-1"></a>T_X <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span>M, <span class="sc">~</span> {</span>
<span id="cb35-8"><a href="" aria-hidden="true" tabindex="-1"></a>  sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(sample_distr, sample_size, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(sample_size) <span class="sc">*</span> (<span class="fu">mean</span>(sample) <span class="sc">-</span> <span class="fu">mean</span>(sample_distr)) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(sample))</span>
<span id="cb35-10"><a href="" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb35-11"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">T_X =</span> T_X) <span class="sc">%&gt;%</span> </span>
<span id="cb35-13"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> T_X)) <span class="sc">+</span></span>
<span id="cb35-14"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb35-15"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">color =</span> blue), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb35-16"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_function</span>(<span class="fu">aes</span>(<span class="at">color =</span> red), <span class="at">fun =</span> dnorm, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb35-17"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb35-18"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of the statistic T(X)"</span>,</span>
<span id="cb35-19"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb35-20"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb35-21"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Distribution"</span></span>
<span id="cb35-22"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb35-23"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-24"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Theoretical"</span>, <span class="st">"Empirical"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src=".08_files/figure-revealjs/sim-t-test-norm-1.svg" class="quarto-figure quarto-figure-center r-stretch"><p>That is, the first time we were unlucky because the sample size was small</p>
</section>
<section id="confidence-interval" class="slide level2 smaller">
<h2>Confidence interval</h2>
<p><span class="math display">\[CI_{\mu} = \left(\overline X \pm \dfrac{z_{1 - \alpha/2} \sqrt{S^2}}{\sqrt{n}} \right)\]</span></p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="" aria-hidden="true" tabindex="-1"></a>sample  <span class="ot">&lt;-</span> <span class="fu">rexp</span>(<span class="dv">2000</span>, <span class="at">rate =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">300</span>)</span>
<span id="cb36-2"><a href="" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb36-3"><a href="" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(sample)</span>
<span id="cb36-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="" aria-hidden="true" tabindex="-1"></a>z_stat <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb36-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(sample) <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">*</span> z_stat <span class="sc">*</span> <span class="fu">sd</span>(sample) <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 300.0618 326.8207</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(sample, <span class="at">conf.level =</span> <span class="dv">1</span> <span class="sc">-</span> alpha)<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 300.0537 326.8288
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
</div></div>
<ul>
<li>üìä –ó–∞–¥–∞—á–∞</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(profits<span class="sc">$</span>profit)</span>
<span id="cb40-2"><a href="" aria-hidden="true" tabindex="-1"></a>z_stat <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb40-3"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(profits<span class="sc">$</span>profit) <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">*</span> z_stat <span class="sc">*</span> <span class="fu">sd</span>(profits<span class="sc">$</span>profit) <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  14.03617 102.93743</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(profits<span class="sc">$</span>profit, <span class="at">conf.level =</span> <span class="dv">1</span> <span class="sc">-</span> alpha)<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  14.02541 102.94819
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
</div></div>
<p>Yes, the revenue is positive! So we found investors for our startup ü´°.</p>
</section>
<section id="t-test-vs.-t-test" class="slide level2 tiny">
<h2><span class="math inline">\(t'\)</span>-test vs.&nbsp;<span class="math inline">\(t\)</span>-test</h2>
<p>To begin with, let‚Äôs define when it is better to use which criterion?</p>
<ol type="1">
<li>If the sample size is 60, then <span class="math inline">\(t_{59} \approx \mathcal{N}(0, 1)\)</span>.
<ul>
<li>Let‚Äôs look at the Student‚Äôs and normal distributions:</li>
</ul></li>
</ol>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="dv">60</span> <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb44-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb44-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="dv">100</span>),</span>
<span id="cb44-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">t =</span> <span class="fu">dt</span>(x, df),</span>
<span id="cb44-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="fu">dnorm</span>(x)</span>
<span id="cb44-6"><a href="" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb44-7"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>x, <span class="at">names_to =</span> <span class="st">"Distribution"</span>, <span class="at">values_to =</span> <span class="st">"Density"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-8"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> Density, <span class="at">color =</span> Distribution)) <span class="sc">+</span></span>
<span id="cb44-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb44-10"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-11"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Student's and normal distributions"</span>,</span>
<span id="cb44-12"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb44-13"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb44-14"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Distribution"</span></span>
<span id="cb44-15"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb44-16"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb44-17"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Student's"</span>, <span class="st">"Normal"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src=".08_files/figure-revealjs/t-vs-z-1.svg"></p>
</figure>
</div>
</div>
</div></div>
<ul>
<li>We can see that these 2 distributions are visually identical, so it doesn‚Äôt matter whether you calculate the statistic <span class="math inline">\(T\sim \mathcal{N}(0, 1)\)</span> or <span class="math inline">\(T\sim t_n\)</span>.</li>
<li>But this does not mean that with <span class="math inline">\(N=60\)</span> <span class="math inline">\(T\)</span>-test/<span class="math inline">\(T'\)</span>-test work correctly! If the sample is not from a normal distribution, they can both still be wrong.</li>
</ul>
</section>
<section id="t-test-vs.-t-test-1" class="slide level2 tiny40">
<h2><span class="math inline">\(t'\)</span>-test vs.&nbsp;<span class="math inline">\(t\)</span>-test</h2>
<ol start="2" type="1">
<li>If the sample is less than 60, it is safer to use the <span class="math inline">\(t\)</span>-test than the <span class="math inline">\(t'\)</span>-test.
<ul>
<li><strong>The FPR of the <span class="math inline">\(t\)</span>-test will always be smaller than that of the <span class="math inline">\(t'\)</span>-test</strong>.
<ul>
<li>FPR is affected by the percentage of cases <span class="math inline">\(p\)</span>-value &lt; <span class="math inline">\(\alpha\)</span>. In <span class="math inline">\(t\)</span>-test <span class="math inline">\(p\)</span>-value <span class="math inline">\(\geq\)</span> <span class="math inline">\(t'\)</span>-test <span class="math inline">\(p\)</span>-value.</li>
<li><code>pvalue &lt;- pt(x)</code> or <code>pvalue &lt;- pnorm(x)</code>. So the heavier the tail of the distribution, the larger the <span class="math inline">\(p\)</span>-value. Now let‚Äôs look at an example:</li>
</ul></li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># –ü–∞—Ä–∞–º–µ—Ç—Ä–∏</span></span>
<span id="cb45-2"><a href="" aria-hidden="true" tabindex="-1"></a>df_array <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>)</span>
<span id="cb45-3"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb45-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># –û–±—á–∏—Å–ª–µ–Ω–Ω—è CDF –¥–ª—è T-—Ä–æ–∑–ø–æ–¥—ñ–ª—É —ñ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É</span></span>
<span id="cb45-6"><a href="" aria-hidden="true" tabindex="-1"></a>cdf_data <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(df_array, <span class="sc">~</span> <span class="fu">tibble</span>(</span>
<span id="cb45-7"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> x,</span>
<span id="cb45-8"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">cdf =</span> <span class="fu">pt</span>(x, <span class="at">df =</span> .x),</span>
<span id="cb45-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">distribution =</span> <span class="fu">paste0</span>(<span class="st">"t(df="</span>, .x, <span class="st">")"</span>)</span>
<span id="cb45-10"><a href="" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-11"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(</span>
<span id="cb45-12"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x,</span>
<span id="cb45-13"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">cdf =</span> <span class="fu">pnorm</span>(x, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb45-14"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">distribution =</span> <span class="st">"N(0, 1)"</span></span>
<span id="cb45-15"><a href="" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb45-16"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-17"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># –ì—Ä–∞—Ñ—ñ–∫</span></span>
<span id="cb45-18"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cdf_data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> cdf, <span class="at">color =</span> distribution)) <span class="sc">+</span></span>
<span id="cb45-19"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb45-20"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb45-21"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"CDF distribution for t and normal distributions"</span>,</span>
<span id="cb45-22"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"X"</span>,</span>
<span id="cb45-23"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"CDF"</span></span>
<span id="cb45-24"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-25"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb45-26"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb45-27"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, blue, green, purple, <span class="st">"black"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<p>The Student‚Äôs distribution with infinity degrees of freedom is a normal distribution: <span class="math inline">\(t_{\infty} = \mathcal{N}(0, 1)\)</span>.</p>
</section>
<section id="t-test-vs.-t-test-1-output" class="slide level2 tiny40 output-location-slide"><h2><span class="math inline">\(t'\)</span>-test vs.&nbsp;<span class="math inline">\(t\)</span>-test</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src=".08_files/figure-revealjs/t-test-vs-tprime-1.svg"></p>
</figure>
</div>
</div>
</div></section><section id="conclusions" class="slide level2">
<h2>Conclusions</h2>
<p>We can see that we can use <span class="math inline">\(t\)</span>-test everywhere (and <span class="math inline">\(t'\)</span>-test not always), and it is safer for small samples. <strong>That is why <span class="math inline">\(t\)</span>-test has become much more popular than <span class="math inline">\(t'\)</span>-test</strong>. But <span class="math inline">\(t'\)</span>-test can also be useful in practice:</p>
<ul>
<li>You don‚Äôt have to think about degrees of freedom during implementation.</li>
<li>It will be much easier to write such a criterion in SQL: you can use table values in the code to understand whether the criterion is rejected.</li>
<li>It‚Äôs easier to do various theoretical calculations.</li>
<li>It‚Äôs harder to make a mistake during implementation.</li>
</ul>
</section></section>
<section>
<section id="two-sample-t-test.-the-task-of-ab-testing" class="title-slide slide level1 center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1>Two-sample <span class="math inline">\(t\)</span>-test. The task of AB testing</h1>

</section>
<section id="task-3" class="slide level2">
<h2>üìä Task</h2>
<blockquote>
<p>We have promotion services on our website. We want to start giving discounts on them to attract more people and start earning more money. To do this, we decided to conduct an AB test: We did not give discounts to one half of the users, and in the other half, we gave discounts to all new users. We need to understand whether we started to earn more money.</p>
</blockquote>
<p>This time we have 2 samples: <span class="math inline">\(A\)</span> - control, and <span class="math inline">\(B\)</span> - test.</p>
</section>
<section id="task-4" class="slide level2 tiny40">
<h2>üìä Task</h2>
<p><span class="math display">\[H_0: \mathbb{E} A = \mathbb{E} B \; \text{vs.} \; H_1: \mathbb{E}A &lt; \mathbb{E} B\]</span></p>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li><strong>Both samples are normal</strong>.</li>
</ol>
<p>Then there are 2 criteria depending on our knowledge of variance:</p>
<ul>
<li><p><span class="math inline">\(\sigma^2_A = \sigma^2_B\)</span>.</p>
<p>Then:</p>
<ul>
<li><span class="math inline">\(S^2_{full} = \dfrac{(N - 1)S^2_A + (M - 1)S^2_B}{N + M - 2}\)</span>, where N, M are the size of the control and test, respectively. And the criterion is as follows:</li>
<li><span class="math inline">\(T(A, B) = \dfrac{\overline A - \overline B}{S^2_{full}\sqrt{1/N + 1/M}} \overset{H_0}{\sim} T_{n + m - 2}\)</span></li>
</ul></li>
<li><p><span class="math inline">\(\sigma^2_A \neq \sigma^2_B\)</span>.</p>
<p>Then:</p>
<ul>
<li><span class="math inline">\(T(A, B) = \dfrac{\overline A - \overline B}{\sqrt{S^2_{A}/N + S^2_{B}/M}} \overset{H_0}{\sim} T_{v}\)</span></li>
<li>–¥–µ <span class="math inline">\(v = \dfrac{\left(\dfrac{S^2_{A}}{N} + \dfrac{S^2_{B}}{M} \right)^2}{\left(\dfrac{(S^2_{A})^2}{N^2(N - 1)} + \dfrac{(S^2_{B})^2}{M^2(M-1)} \right)}\)</span></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ol start="2" type="1">
<li><strong>At least 1 sample is abnormal</strong>.</li>
</ol>
<p>Then the normal approximation with a large sample size, the <span class="math inline">\(t'\)</span>-test criterion, comes into play:</p>
<ul>
<li><span class="math inline">\(T(A, B) = \dfrac{\overline A - \overline B}{\sqrt{S^2_{A}/N + S^2_{B}/M}} \overset{H_0}{\sim} \mathcal{N}(0, 1)\)</span></li>
</ul>
</div></div>
</section>
<section id="r-and-the-two-sample-t-test" class="slide level2 tiny">
<h2>R and the Two-Sample <span class="math inline">\(t\)</span>-test</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb46-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö</span></span>
<span id="cb46-4"><a href="" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">rexp</span>(<span class="dv">1000</span>, <span class="at">rate =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">1100</span>)</span>
<span id="cb46-5"><a href="" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">980</span>, <span class="at">sd =</span> <span class="dv">30</span>)</span>
<span id="cb46-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># t-—Ç–µ—Å—Ç</span></span>
<span id="cb46-8"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(X, Y, <span class="at">alternative =</span> <span class="st">"greater"</span>, <span class="at">var.equal =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  X and Y
t = 5.4602, df = 1000.3, p-value = 2.999e-08
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 142.6961      Inf
sample estimates:
mean of x mean of y 
1185.7370  981.4416 </code></pre>
</div>
</div></div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(X, Y, <span class="at">alternative =</span> <span class="st">"greater"</span>, <span class="at">var.equal =</span> <span class="cn">FALSE</span>)<span class="sc">$</span>p.value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.999087e-08</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(X, Y, <span class="at">alternative =</span> <span class="st">"greater"</span>, <span class="at">var.equal =</span> <span class="cn">FALSE</span>)<span class="sc">$</span>conf.int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 142.6961      Inf
attr(,"conf.level")
[1] 0.95</code></pre>
</div>
</div>
</section></section>
<section>
<section id="mde-for-the-t-test." class="title-slide slide level1 center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1>MDE for the <span class="math inline">\(t\)</span>-test.</h1>

</section>
<section id="recalling-mde" class="slide level2 tiny">
<h2>Recalling MDE</h2>
<p>The <strong>MDE</strong> is the true value of the effect such that our chance of detecting it is equal to <span class="math inline">\(1-\beta\)</span> when using our criterion.</p>
<p>What does MDE depend on?</p>
<ul>
<li>Error of the 1st kind, or <span class="math inline">\(\alpha\)</span>.
<ul>
<li>For example, if <span class="math inline">\(\alpha = 1\)</span>, we will find an effect even with a sample size of 1 (we will just always reject the 0 hypothesis). And if <span class="math inline">\(\alpha = 0\)</span>, we will never detect an effect.</li>
</ul></li>
<li>Power, or <span class="math inline">\(1 - \beta\)</span>.
<ul>
<li>It follows from the definition itself</li>
</ul></li>
<li>From noise in the data, or from variance.
<ul>
<li>The noisier the data, as we know, the wider the confidence interval. This means that it is more difficult to accurately predict the true effect, so the MDE will be larger.</li>
</ul></li>
<li>Sample size.
<ul>
<li>We are interested not just in the variance in the data, but in the variance of the mean: by the same token, it should be as small as possible. And what is the variance of the mean? It is <span class="math inline">\(\dfrac{\sigma^2}{N}\)</span>, so MDE also depends on the sample size.</li>
</ul></li>
</ul>
</section>
<section id="task-5" class="slide level2 tiny">
<h2>üìä Task</h2>
<p>First, let‚Äôs define the hypothesis to be tested:</p>
<ul>
<li><span class="math inline">\(H_0: \mu_0 = 0\ vs. \ H_1: \mu_0 &gt; 0\)</span></li>
</ul>
<p>We define.</p>
<ul>
<li><span class="math inline">\(S^2_{\mu} := \dfrac{S^2}{N}\)</span> ‚Äî estimate of the variance of the mean.</li>
<li><span class="math inline">\(S_{\mu} = \sqrt{\dfrac{S^2}{N}}\)</span> ‚Äî the estimate of the standard deviation of the mean, or SEM.</li>
</ul>
<p>Now we know that</p>
<ul>
<li><span class="math inline">\(\overline X \sim \mathcal{N}(\mu, S^2_{\mu})\)</span></li>
</ul>
<p>We need to find <span class="math inline">\(MDE=m\)</span>, such that:</p>
<ul>
<li>if <span class="math inline">\(\overline X \sim \mathcal{N}(m, S^2_{\mu})\)</span>, then in <span class="math inline">\(1-\beta\)</span> percent of cases the criterion will be rejected. Check the power.</li>
<li>If <span class="math inline">\(\overline X \sim \mathcal{N}(0, S^2_{\mu})\)</span>, then the criterion will be rejected for it in <span class="math inline">\(\alpha\)</span> percent of cases. Let‚Äôs check the FPR.</li>
</ul>
</section>
<section id="r-mde" class="slide level2">
<h2>R &amp; MDE</h2>
<p><span class="math display">\[\text{MDE} = (z_{1 - \alpha} + z_{1 - \beta}) \cdot \sqrt{\dfrac{S^2}{N}}\]</span></p>
<p>where <span class="math inline">\(z_{1 - \alpha}\)</span> and <span class="math inline">\(z_{1 - \beta}\)</span> are quantiles of the distribution <span class="math inline">\(\mathcal{N}(0, 1)\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="" aria-hidden="true" tabindex="-1"></a>profits  <span class="ot">&lt;-</span> <span class="fu">read_table</span>(<span class="st">'data/profit_from_user.out'</span>, <span class="at">col_names =</span> <span class="st">"profit"</span>)</span>
<span id="cb52-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb52-4"><a href="" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb52-5"><a href="" aria-hidden="true" tabindex="-1"></a>beta <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb52-6"><a href="" aria-hidden="true" tabindex="-1"></a>S2 <span class="ot">&lt;-</span> <span class="fu">var</span>(profits<span class="sc">$</span>profit)</span>
<span id="cb52-7"><a href="" aria-hidden="true" tabindex="-1"></a>A_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(profits<span class="sc">$</span>profit)</span>
<span id="cb52-8"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="" aria-hidden="true" tabindex="-1"></a>mde <span class="ot">&lt;-</span> (<span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha) <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> beta)) <span class="sc">*</span> <span class="fu">sqrt</span>(S2 <span class="sc">/</span> N)</span>
<span id="cb52-10"><a href="" aria-hidden="true" tabindex="-1"></a>mde</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 126.0953</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="" aria-hidden="true" tabindex="-1"></a>profits_AB <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb54-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">A_means =</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, <span class="at">mean =</span> A_mean, <span class="at">sd =</span> <span class="fu">sqrt</span>(S2 <span class="sc">/</span> N)),</span>
<span id="cb54-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">B_means =</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, <span class="at">mean =</span> A_mean <span class="sc">+</span> mde, <span class="at">sd =</span> <span class="fu">sqrt</span>(S2 <span class="sc">/</span> N)),</span>
<span id="cb54-4"><a href="" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Group"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb54-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-7"><a href="" aria-hidden="true" tabindex="-1"></a>profits_AB  <span class="sc">%&gt;%</span></span>
<span id="cb54-8"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Value, <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb54-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb54-10"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> A_mean, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb54-11"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> A_mean <span class="sc">+</span> mde, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb54-12"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> A_mean <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha) <span class="sc">*</span> <span class="fu">sqrt</span>(S2 <span class="sc">/</span> N), <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> red_pink) <span class="sc">+</span></span>
<span id="cb54-13"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb54-14"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"MDE for the t-test"</span>,</span>
<span id="cb54-15"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb54-16"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb54-17"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Group"</span></span>
<span id="cb54-18"><a href="" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb54-19"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-20"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, green), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Control"</span>, <span class="st">"Test"</span>)) <span class="sc">+</span></span>
<span id="cb54-21"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(red, green), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"FPR"</span>, <span class="st">"Power"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src=".08_files/figure-revealjs/mde-plot-1.svg"></p>
</figure>
</div>
</div>
</div></section><section id="r-mde-1" class="slide level2 smaller">
<h2>R &amp; MDE</h2>
<p><span class="math inline">\(N = 1000\)</span>, <span class="math inline">\(\alpha=5\)</span>%, <span class="math inline">\(1-\beta=80\)</span>%, how do you find <span class="math inline">\(S^2\)</span>?</p>
<p>In practice, there are 3 ways:</p>
<ul>
<li>Estimate on historical data. In this case, it is not suitable because there was no startup before.</li>
<li>Estimate using similar data.</li>
<li>Estimate it theoretically. The worst way that works if the first 2 don‚Äôt work.</li>
</ul>
</section>
<section id="mde-and-sample-size" class="slide level2 smaller">
<h2>MDE and sample size</h2>
<p>For us, this is too large an MDE: we want it to be <span class="math inline">\(\leq\)</span> 100, and we assume that this is the most likely true effect based on experience.</p>
<p>Now let‚Äôs solve the opposite problem: We know MDE = 100, <span class="math inline">\(\alpha=5\)</span>%, <span class="math inline">\(1-\beta=80\)</span>%, <span class="math inline">\(S^2\)</span>, what is <span class="math inline">\(N\)</span>? Let‚Äôs derive it from the MDE formula:</p>
<p><span class="math display">\[N = \left(\dfrac{z_{1 - \alpha} + z_{1 - \beta}}{\text{MDE}}\right)^2 S^2\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="" aria-hidden="true" tabindex="-1"></a>mde <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb55-2"><a href="" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> (<span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha) <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> beta))<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> S2 <span class="sc">/</span> mde<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb55-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Sample size:"</span>, N <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sample size: 1590</code></pre>
</div>
</div>
</section></section>
<section id="questions" class="title-slide slide level1 unnumbered unlisted center" data-background-iframe=".08_files/libs/colored-particles/index.html">
<h1>Questions?</h1>
<p><iconify-icon inline="" icon="solar:book-bold"></iconify-icon> <a href="https://teaching.kse.org.ua/course/view.php?id=2554">Course materials</a></p>
<p><iconify-icon inline="" icon="mdi:envelope"></iconify-icon> imiroshnychenko@kse.org.ua</p>
<p><iconify-icon inline="" icon="ic:baseline-telegram"></iconify-icon> <a href="https://t.me/araprof"><span class="citation" data-cites="araprof">@araprof</span></a></p>
<p><iconify-icon inline="" icon="mdi:youtube"></iconify-icon> <a href="https://www.youtube.com/@datamirosh"><span class="citation" data-cites="datamirosh">@datamirosh</span></a></p>
<p><iconify-icon inline="" icon="mdi:linkedin"></iconify-icon> <a href="https://www.linkedin.com/in/ihormiroshnychenko/">@ihormiroshnychenko</a></p>
<p><iconify-icon inline="" icon="mdi:github"></iconify-icon> <a href="https://github.com/Aranaur">@aranaur</a></p>
<p><iconify-icon inline="" icon="ion:home"></iconify-icon> <a href="https://aranaur.rbind.io">aranaur.rbind.io</a></p>
<div class="quarto-auto-generated-content">
<p><img src="img/kse.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://teaching.kse.org.ua/course/view.php?id=2554">üîóDescriptive Statistics (AI27)</a></p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src=".08_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src=".08_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src=".08_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src=".08_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src=".08_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src=".08_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src=".08_files/libs/revealjs/plugin/verticator/verticator.js"></script>
  <script src=".08_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src=".08_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src=".08_files/libs/revealjs/plugin/search/search.js"></script>
  <script src=".08_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src=".08_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'verticator': {"themetag":"h1","color":"","inversecolor":"","skipuncounted":false,"clickable":true,"position":"auto","offset":"3vmin","autogenerate":true,"tooltip":false,"scale":1},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: true,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: true,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1350,

        height: 759.375,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, Verticator, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>