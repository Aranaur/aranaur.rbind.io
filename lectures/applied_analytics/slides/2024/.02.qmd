---
title: "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –≥—ñ–ø–æ—Ç–µ–∑"
subtitle: "–ü—Ä–∏–∫–ª–∞–¥–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ IT"
author: "–Ü–≥–æ—Ä –ú—ñ—Ä–æ—à–Ω–∏—á–µ–Ω–∫–æ"
institute: –ö–ù–£ —ñ–º–µ–Ω—ñ –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞, –§–Ü–¢
from: markdown+emoji
title-slide-attributes:
    data-background-iframe: .02_files/libs/colored-particles/index.html
language: _language-ua.yml
footer: <a href="https://aranaur.rbind.io/lectures/applied_analytics/">üîó–ü—Ä–∏–∫–ª–∞–¥–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ IT</a>
format:
  revealjs: 
    transition: fade
    chalkboard: true
    logo: fit.png
    slide-number: true
    toc: true
    toc-depth: 1
    mouse-wheel: true
    width: 1350  
    height: 759.375
    highlight-style: github
    # fig-width: 9
    # fig-height: 5
    fig-format: svg
    theme: [default, custom.scss]
    mermaid:
      theme: forest
  # gfm:
  #   mermaid-format: png
preload-iframes: true
jupyter: python3
execute: 
  echo: true
  warning: false
editor_options: 
  chunk_output_type: console
---

# –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –≥—ñ–ø–æ—Ç–µ–∑–∏? {background-iframe=".02_files/libs/colored-particles/index.html"}

#

::: {.r-stack}
–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—ñ–ø–æ—Ç–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ —Ç–∞ –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó
:::

## –Ø–∫ –æ–±—Ä–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—ñ–ø–æ—Ç–µ–∑?

- –î–ª—è —Å–ø—Ä–æ—Å—Ç—É–≤–∞–Ω–Ω—è/–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≥—ñ–ø–æ—Ç–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó.
- –í–∏–±—ñ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä—ñ—é –∑–∞–≤–∂–¥–∏ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å—Ñ–æ—Ä–º—É–ª—å–æ–≤–∞–Ω–æ—ó –≥—ñ–ø–æ—Ç–µ–∑–∏
- –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–¥–∏–Ω –∫–ª–∞—Å –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤, –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ñ–æ—Ä–º —Ä–æ–∑–ø–æ–¥—ñ–ª—É --- —ñ–Ω—à–∏–π

## –ù—É–ª—å–æ–≤–∞ –≥—ñ–ø–æ—Ç–µ–∑–∞ {.smaller}

:::: {.columns}

::: {.column width="60%"}
–ù—É–ª—å–æ–≤–∞ –≥—ñ–ø–æ—Ç–µ–∑–∞ --- –ø—Ä–∏–π–Ω—è—Ç–µ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è –ø—Ä–æ —Ç–µ, —â–æ –Ω–µ —ñ—Å–Ω—É—î –∑–≤'—è–∑–∫—É –º—ñ–∂ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è–º–∏ —É –¥–≤–æ—Ö (–∞–±–æ –±—ñ–ª—å—à–µ) –ø–æ–¥—ñ—è—Ö (–≤–∏–±—ñ—Ä–∫–∞—Ö, —Ñ–µ–Ω–æ–º–µ–Ω–∞—Ö, —Å—É–∫—É–ø–Ω–æ—Å—Ç—è—Ö).

–ì—ñ–ø–æ—Ç–µ–∑—É –≤—ñ–¥–∫–∏–¥–∞—é—Ç—å, —è–∫—â–æ –¥–∞–Ω—ñ –ø–æ–∫–∞–∑—É—é—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –≤–∏–±—ñ—Ä–∫–∞–º–∏ (–Ω–∞ –∑–∞–¥–∞–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ)
:::

::: {.column width="40%"}
$$
H_0: \mu_1 = \mu_2 \\
H_1: \mu_1 \neq \mu_2
$$
:::

::::

$H_0$ –æ–∑–Ω–∞—á–∞—î, —â–æ —Å–µ—Ä–µ–¥–Ω—ñ (—è–∫—â–æ —Ü–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, $t$-–∫—Ä–∏—Ç–µ—Ä—ñ–π) –Ω–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –º—ñ–∂ –¥–≤–æ–º–∞ –≤–∏–±—ñ—Ä–∫–∞–º–∏, –∞, –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ, —â–æ —Ü—è —É–º–æ–≤–∞ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è. –î–ª—è —Ü—å–æ–≥–æ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —î –≤—ñ–¥–∫–∏–¥–∞–Ω–Ω—è –Ω—É–ª—å–æ–≤–æ—ó –≥—ñ–ø–æ—Ç–µ–∑–∏.

–í—ñ–¥–∫–∏–Ω—É—Ç–∏ –º–∏ —ó—ó –º–æ–∂–µ–º–æ –∑–∞ —É–º–æ–≤–∏ –∑–∞–¥–∞–Ω–æ—ó –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—ñ –ø–æ–º–∏–ª–∫–∏ –ø–µ—Ä—à–æ–≥–æ —Ä–æ–¥—É (p-value), —Ç–æ–±—Ç–æ —â–æ–± –ø–æ–º–∏–ª–∫–∞ –±—É–ª–∞ –º–µ–Ω—à–æ—é –∑–∞ 0.05, —è–∫—â–æ –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–Ω—å–æ 95% —Ä—ñ–≤–Ω—è –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ

## –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –∑–∞—Å–Ω–æ–≤–∞–Ω—ñ –Ω–∞ —Ç–æ–º—É, —â–æ –≤—ñ–¥–æ–º–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –¥–∞–Ω–∏—Ö. –á—Ö –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, –∫–æ–ª–∏ –≥–æ–ª–æ–≤–Ω–µ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è –∫—Ä–∏—Ç–µ—Ä—ñ—é –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è, –∞ —Å–∞–º–µ —Ç–µ, —â–æ —Ç–∏–ø —Ä–æ–∑–ø–æ–¥—ñ–ª—É - –≤—ñ–¥–æ–º–∏–π.

---

<center>–ê–Ω–∞–ª—ñ—Ç–∏–∫ –ê—Ä—Ç—É—Ä –ø–æ—Ä—ñ–≤–Ω—é—î –¥–≤—ñ –≤–µ—Ä—Å—ñ—ó –æ–¥–Ω—ñ—î—ó —Ñ–æ—Ä–º–∏: –∑ –∞–¥—Ä–µ—Å–æ—é —ñ –±–µ–∑. –ú–µ—Ç–∞ --- –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä—É. –Ø–∫–∞ —Ñ–æ—Ä–º–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∞?</center>

:::: {.columns}

::: {.column width="50%"}
<center>**[A]{.blue}**</center>
:::

::: {.column width="50%"}
<center>**[B]{.pink}**</center>
:::

::::

![](img/form.jpg){fig-align="center"}

---

–£ —Ü—ñ—î—ó –º–µ—Ç—Ä–∏–∫–∏ –º–æ–∂–µ –±—É—Ç–∏ —Ç–∞–∫–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª

```{python}
#| echo: false
#| label: metrics-density-b
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

np.random.seed(2024)
metric_a = np.random.normal(130, 10, 1000)
metric_b = np.random.normal(100, 10, 1000)

sns.kdeplot(metric_b, color="#BF007F", label='B')
# add annotations
plt.text(100, 0.045, 'B', fontsize=20, color='#BF007F')
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ, —Ä–æ–∑–ø–æ–¥—ñ–ª —Ç—ñ—î—ó —Å–∞–º–æ—ó –º–µ—Ç—Ä–∏–∫–∏ –º–∞—î –º–∞—Ç–∏ —Å—Ö–æ–∂—É —Ñ–æ—Ä–º—É. –Ø–∫ –Ω–∞–º —ó—Ö –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏?

```{python}
#| echo: false
#| label: metrics-density-ab
#| fig-align: center

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
# add annotations
plt.text(100, 0.045, 'B', fontsize=20, color='#BF007F')
plt.text(130, 0.045, 'A', fontsize=20, color='#447099')
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–ó–≤–∏—á–∞–π–Ω–æ –∂, –ø–æ—Ä—ñ–≤–Ω—è–≤—à–∏ —Å–µ—Ä–µ–¥–Ω—ñ. –°–µ—Ä–µ–¥–Ω—ñ –¥—É–∂–µ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ, –∞–ª–µ –Ω–∞–º –±–∏ —Ö–æ—Ç—ñ–ª–æ—Å—è –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–º–∏ –≤ —Ç–æ–º—É, —â–æ –º–∏ –Ω–µ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ—Å—Ç—å, –∞ –±–∞—á–∏–º–æ –∑–∞–∫–æ–Ω–æ–º—ñ—Ä–Ω—ñ—Å—Ç—å

```{python}
#| echo: false
#| label: metrics-density-ab-means-dash
#| fig-align: center

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
plt.axvline(np.mean(metric_a), color="#447099", linestyle='--')
plt.axvline(np.mean(metric_b), color="#BF007F", linestyle='--')
# add annotations
plt.text(100, 0.045, 'B', fontsize=20, color='#BF007F')
plt.text(130, 0.045, 'A', fontsize=20, color='#447099')
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–∞ —Ü—å–æ–º—É –º–æ–∂–µ –∑–∞–≤–∞–∂–∞—Ç–∏ –≤–µ–ª–∏–∫–∞ –¥–∏—Å–ø–µ—Ä—Å—ñ—è —É —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ–≤ –º–µ—Ç—Ä–∏–∫–∏

```{python}
#| echo: false
#| label: metrics-with-high-variance
#| fig-cap: –°–µ—Ä–µ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–∏—à–∏–ª–∏—Å—å –±–µ–∑ –∑–º—ñ–Ω, –∞–ª–µ –¥–∏—Å–ø–µ—Ä—Å—ñ—è –∑—Ä–æ—Å–ª–∞

np.random.seed(2024)
metric_a = np.random.normal(130, 50, 1000)
metric_b = np.random.normal(100, 50, 1000)

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
plt.axvline(np.mean(metric_a), color="#447099", linestyle='--')
plt.axvline(np.mean(metric_b), color="#BF007F", linestyle='--')
# add annotations
plt.text(100, 0.01, 'B', fontsize=20, color='#BF007F')
plt.text(130, 0.01, 'A', fontsize=20, color='#447099')
# up x-axis limit
plt.xlim(0, 250)
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –≤–∏–±—ñ—Ä–∫–∞–º–∏

```{python}
#| echo: false
#| label: metrics-without-difference
#| fig-align: center

np.random.seed(2024)
metric_a = np.random.normal(130, 10, 1000)
metric_b = np.random.normal(130, 10, 1000)

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
plt.axvline(np.mean(metric_a), color="#447099", linestyle='--')
plt.axvline(np.mean(metric_b), color="#BF007F", linestyle='--')
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–±—É–≤–∞—î —Ç–∞–∫, —â–æ –¥–∏—Å–ø–µ—Ä—Å—ñ—è –≤ –æ–¥–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –±—ñ–ª—å—à–∞, –Ω—ñ–∂ –≤ —ñ–Ω—à–æ–≥–æ (–Ω–∞–ø—Ä., —á–µ—Ä–µ–∑ –¥–∏—Å–±–∞–ª–∞–Ω—Å –≤–∏–±—ñ—Ä–æ–∫)

```{python}
#| echo: false
#| label: metrics-with-high-variance-and-difference
#| fig-align: center

np.random.seed(2024)
metric_a = np.random.normal(130, 10, 1000)
metric_b = np.random.normal(100, 20, 1000)

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
plt.axvline(np.mean(metric_a), color="#447099", linestyle='--')
plt.axvline(np.mean(metric_b), color="#BF007F", linestyle='--')
# add annotations
plt.text(100, 0.045, 'B', fontsize=20, color='#BF007F')
plt.text(130, 0.045, 'A', fontsize=20, color='#447099')
# up x-axis limit
plt.xlim(0, 250)
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```

---

–©–æ–± –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –¥–≤—ñ –≤–∏–±—ñ—Ä–∫–∏, –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ $t$-–∑–Ω–∞—á–µ–Ω–Ω—è:

:::: {.columns}

::: {.column width="40%"}

```{python}
#| echo: false
#| label: metrics-density-ab-2
#| fig-align: center

np.random.seed(2024)
metric_a = np.random.normal(130, 10, 1000)
metric_b = np.random.normal(100, 10, 1000)

sns.kdeplot(metric_a, color="#447099", label='A')
sns.kdeplot(metric_b, color="#BF007F", label='B')
plt.axvline(np.mean(metric_a), color="#447099", linestyle='--')
plt.axvline(np.mean(metric_b), color="#BF007F", linestyle='--')
# add annotations
plt.text(100, 0.045, 'B', fontsize=20, color='#BF007F')
plt.text(130, 0.045, 'A', fontsize=20, color='#447099')
# disable y-axis labels
plt.gca().axes.get_yaxis().set_visible(False)
# disable x-axis labels
plt.gca().axes.get_xaxis().set_visible(False)
# remove spines
sns.despine(left=True, bottom=True)
plt.show()
```
:::

::: {.column width="60%"}
$$
\frac{\text{–°–∏–≥–Ω–∞–ª}}{\text{–®—É–º}} = \frac{\text{–†—ñ–∑–Ω–∏—Ü—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö}}{\text{–î–∏—Å–ø–µ—Ä—Å—ñ—è –≥—Ä—É–ø}} = \frac{\bar{X}_1 - \bar{X}_2}{\sqrt{\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}}}
$$
:::

::::

---

:::: {.columns}

::: {.column width="40%"}
<br><br><br><br><br>

$$\frac{\text{–†—ñ–∑–Ω–∏—Ü—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö} \nearrow }{\text{–î–∏—Å–ø–µ—Ä—Å—ñ—è –≥—Ä—É–ø} \searrow }$$
:::

::: {.column width="60%"}
::: {.question}
–Ø–∫—â–æ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å–ø—Ä—è–º–æ–≤–∞–Ω–∏–π –Ω–∞ –∑–º—ñ–Ω—É –∑—Ä—É—á–Ω–æ—Å—Ç—ñ, —Ç–æ —Ä—ñ–∑–Ω–∏—Ü—é –±—É–¥–µ –≤–∏–¥–Ω–æ –≤ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö (–Ω–∞–ø—Ä., —á–∞—Å –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—é). –£ –≥—Ä–æ—à–∞—Ö —Ä—ñ–∑–Ω–∏—Ü—é –º–∏ –ø–æ–º—ñ—Ç–∏–º–æ –Ω–µ –≤—ñ–¥—Ä–∞–∑—É (—è–∫—â–æ –≤–∑–∞–≥–∞–ª—ñ –≤–æ–Ω–∞ —î)
:::

<br>

::: {.question}
–®—É–º –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥: —Ä–æ–∑–º—ñ—Ä—É –≤–∏–±—ñ—Ä–∫–∏, —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—ñ, –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤ –≥—Ä—É–ø–∞—Ö, —Ö–∞–æ—Ç–∏—á–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –ø–µ–≤–Ω–∏—Ö –ø—ñ–¥–≤–∏–±—ñ—Ä–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ —ñ–Ω—à–∏—Ö –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —á–∏–Ω–Ω–∏–∫—ñ–≤
:::

:::

::::

## –ü–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –¥–∞–Ω—ñ —Ç–∞ –ø–æ—Ä–∞—Ö—É—î–º–æ {.smaller}

:::: {.columns}

::: {.column width="40%"}
**–§–æ—Ä–º–∞ –±–µ–∑ –∞–¥—Ä–µ—Å–∏**

–°–µ—Ä–µ–¥–Ω—è —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –¥–∑–≤—ñ–Ω–∫–∞ = 124 —Å–µ–∫.

n = 30

<br>

**–§–æ—Ä–º–∞ –∑ –∞–¥—Ä–µ—Å–æ—é**

–°–µ—Ä–µ–¥–Ω—è —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –¥–∑–≤—ñ–Ω–∫–∞ = 110 —Å–µ–∫.

n = 30
:::

::: {.column width="60%"}

```{python}
#| echo: false
#| label: t-test-density-plot
#| fig-align: center

# generate t distribution plot

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from scipy.stats import t

# parameters
n = 30
mean_a = 124
mean_b = 110
std = 28.15

# generate t-distribution
x = np.linspace(-5, 5, 1000)
y = t.pdf(x, df=n-1, loc=0, scale=1)

# plot
plt.plot(x, y, color='black')
plt.fill_between(x, y, color='grey', alpha=0.5)
plt.title('t-—Ä–æ–∑–ø–æ–¥—ñ–ª')
plt.xlabel('t')
plt.xlim(-4, 4)
plt.ylim(0, 0.41)
plt.show()
```
:::

::::

## –ü–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –¥–∞–Ω—ñ —Ç–∞ –ø–æ—Ä–∞—Ö—É—î–º–æ {.smaller}

:::: {.columns}

::: {.column width="40%"}
**–§–æ—Ä–º–∞ –±–µ–∑ –∞–¥—Ä–µ—Å–∏**

–°–µ—Ä–µ–¥–Ω—è —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –¥–∑–≤—ñ–Ω–∫–∞ = 124 —Å–µ–∫.

n = 30

**–§–æ—Ä–º–∞ –∑ –∞–¥—Ä–µ—Å–æ—é**

–°–µ—Ä–µ–¥–Ω—è —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –¥–∑–≤—ñ–Ω–∫–∞ = 110 —Å–µ–∫.

n = 30

**–ü—ñ–¥—Å—É–º–æ–∫**

–†—ñ–∑–Ω–∏—Ü—è $(\bar{x}_1 - \bar{x}_2) = 14$ —Å–µ–∫.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –ø–æ—Ö–∏–±–∫–∞ ($SE$) = `{python} round(np.sqrt((27 ** 2 + 27 ** 2) / 2), 2)`

$t$-–∑–Ω–∞—á–µ–Ω–Ω—è = `{python} round((mean_a - mean_b) / (np.sqrt((27 ** 2 + 27 ** 2) / 2) * np.sqrt(2/n)), 2)`

$p$-–∑–Ω–∞—á–µ–Ω–Ω—è = `{python} round(2 * (1 - t.cdf(round((mean_a - mean_b) / (np.sqrt((27 ** 2 + 27 ** 2) / 2) * np.sqrt(2/n)), 2), df=n*2-2)), 4)`
:::

::: {.column width="60%"}

```{python}
#| echo: false
#| label: t-test-density-plot-with-t-values
#| fig-align: center

# generate t distribution plot

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from scipy.stats import t

# parameters
n = 30
mean_a = 124
mean_b = 110
std = 28.15

# generate t-distribution
x = np.linspace(-5, 5, 1000)
y = t.pdf(x, df=n-1, loc=0, scale=1)

# plot
plt.plot(x, y, color='black')
plt.fill_between(x, y, color='grey', alpha=0.5)
plt.title('t-—Ä–æ–∑–ø–æ–¥—ñ–ª')
plt.xlabel('t')
plt.fill_between(x, y, where=(x <= -2.01), color='red', alpha=0.5)
plt.fill_between(x, y, where=(x >= 2.01), color='red', alpha=0.5)
plt.axvline(-2.01, color='black', linestyle='--')
plt.axvline(2.01, color='black', linestyle='--')
plt.text(-2.8, 0.35, 't = -2.01', fontsize=10, color='black')
plt.text(2.1, 0.35, 't = 2.01', fontsize=10, color='black')
plt.xlim(-4, 4)
plt.ylim(0, 0.41)
plt.show()
```

::: {.border}
–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ —Ç–∞–∫—ñ –∞–±–æ –±—ñ–ª—å—à –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ —É–º–æ–≤–∏ –≤—ñ—Ä–Ω–æ—Å—Ç—ñ $H_0$ = 0.0491. –ó–∞ —Ä—ñ–≤–Ω—è –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ $\alpha < 0.05$, –º–∏ –≤—ñ–¥—Ö–∏–ª—è—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É —ñ –ø—Ä–∏–π–º–∞—î–º–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É
:::
:::

::::

---

:::: {.columns}

::: {.column width="50%" .smaller}

<br><br>

–ú–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ $p$-–∑–Ω–∞—á–µ–Ω–Ω—è = 0.0491. –ù–∞ —Ä—ñ–≤–Ω—ñ $\alpha < 0.05$ –º–∏ –≤—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É, –∞ –Ω–∞ $\alpha < 0.01$ –≤–∂–µ –Ω—ñ. 

–¢–æ–¥—ñ —è–∫ –±—É—Ç–∏?

<br>

[–ù–µ–º–∞—î —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö –ø–æ—Ä–æ–≥–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å]{.huge}
:::

::: {.column width="50%"}

<br><br>

```{mermaid}
%%| echo: false

flowchart TB
  C["`1000 A/B —Ç–µ—Å—Ç—ñ–≤
  –±–µ–∑ –∑–º—ñ–Ω`"] 
  C -->|"`1-Œ±
  –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ = 0.95`"| D["`950 —Ç–µ—Å—Ç—ñ–≤
  –Ω–µ –ø—ñ—à–ª–∏
  –≤ –ø—Ä–æ–¥`"]
  C -->|"`Œ±
  –ü–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É = 0.05`"| E["`50 —Ç–µ—Å—Ç—ñ–≤
  –ø–æ–º–∏–ª–∫–æ–≤–æ
  –ø—ñ—à–ª–∏ –≤ –ø—Ä–æ–¥`"]
```
:::

::::

---

$t$-–∫—Ä–∏—Ç–µ—Ä—ñ–π --- —Ü—ñ–ª–µ —Å—ñ–º–µ–π—Å—Ç–≤–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—ñ–ø–æ—Ç–µ–∑:

![](img/ttest.jpg){fig-align="center"}

--- —Ç—É—Ç –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤–∞–Ω—ñ –¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å—ñ –≤–∞—Ä—ñ–∞—Ü—ñ—ó $t$-–∫—Ä–∏—Ç–µ—Ä—ñ—é. –ö—Ä—ñ–º —Ü—å–æ–≥–æ, —ñ—Å–Ω—É—î —â–µ –ø—Ä–æ–±–ª–µ–º–∞
–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ç–æ—á–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Å–µ—Ä–µ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —É –≤–∏–±—ñ—Ä–∫–∞—Ö, –¥–∏—Å–ø–µ—Ä—Å—ñ—ó —è–∫–∏—Ö –Ω–µ–≤—ñ–¥–æ–º—ñ.

–¶—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–∑–≤–∞–Ω–∞ *–ø—Ä–æ–±–ª–µ–º–æ—é –ë–µ—Ä–µ–Ω—Å–∞-–§—ñ—à–µ—Ä–∞*. 

–î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å *–Ω–∞–±–ª–∏–∂–µ–Ω–Ω—è –í–µ–ª—á–∞* —ñ —Ç–æ –Ω–µ —É
–≤—Å—ñ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö...

---

<center>–ê–Ω–∞–ª—ñ—Ç–∏–∫ –ê—Ä—Ç—É—Ä –ø–æ—Ä—ñ–≤–Ω—é—î –¥–≤—ñ –≤–µ—Ä—Å—ñ—ó –æ–¥–Ω—ñ—î—ó —Ñ–æ—Ä–º–∏: —Ç–µ–∫—Å—Ç–æ–≤–∏–º–∏ —è—Ä–ª–∏–∫–∞–º–∏ —ñ –±–µ–∑ –Ω–∏—Ö. –Ø–∫–∞ —Ñ–æ—Ä–º–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∞?</center>

![](img/form2.jpg){fig-align="center"}

–£ —Ü—å–æ–º—É –¥–æ–ø–æ–º–æ–∂–µ *–∫—Ä–∏—Ç–µ—Ä—ñ–π —á–∞—Å—Ç–æ–∫*

---

–ö—Ä–∏—Ç–µ—Ä—ñ—ó —á–∞—Å—Ç–æ–∫ --- —Ü–µ –∫—Ä–∏—Ç–µ—Ä—ñ—ó, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–∑ —Ä–æ–∑–ø–æ–¥—ñ–ª–∞–º–∏ –ë–µ—Ä–Ω—É–ª–ª—ñ.

–í–æ–Ω–∏ –ø—Ä–∏–π–º–∞—é—Ç—å –Ω–∞ –≤—Ö—ñ–¥ –≤–∏–±—ñ—Ä–∫–∏ –∑ –Ω—É–ª—ñ–≤ —ñ –æ–¥–∏–Ω–∏—Ü—å —ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –≥—ñ–ø–æ—Ç–µ–∑–∏ –ø—Ä–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ $p$ —Ü–∏—Ö —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ–≤ (–π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –ø–æ—è–≤–∏ –æ–¥–∏–Ω–∏—Ü—ñ —É –≤–∏–±—ñ—Ä—Ü—ñ).

```{python}
#| echo: false
#| label: bernoulli-distribution-barplot
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

np.random.seed(2024)
bernoulli_a = np.random.binomial(1, 0.5, 1000)
bernoulli_b = np.random.binomial(1, 0.6, 1000)

sns.barplot(x=['1', '0'], y=[np.mean(bernoulli_a), np.mean(bernoulli_b)])
plt.gca().axes.get_yaxis().set_visible(False)
sns.despine(left=True, bottom=True)
plt.show()
```

–ë–µ—Ä–Ω—É–ª–ª—ñ –∑—Ä—É—á–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É, –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –∂–æ–¥–Ω–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —á–∏ –≤–∑—è—Ç–∞ –≤–∏–±—ñ—Ä–∫–∞ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É.

---

–ü–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—é –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —ñ –ø–æ—Ä—ñ–≤–Ω—è—î–º–æ —ó—Ö. –ó–¥–∞—î—Ç—å—Å—è, —â–æ —Ç–µ—Å—Ç–æ–≤–∞ –≥—Ä—É–ø–∞ ($\hat{p}_2$) –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∞, –Ω—ñ–∂ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ ($\hat{p}_1$). –ê–ª–µ –Ω–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Ü–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏. –ë—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ *$z$-—Ç–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π*.

| –ì—Ä—É–ø–∞ | –ü–æ–±–∞—á–∏–ª–∏ —Ñ–æ—Ä–º—É | –í—ñ–¥–ø—Ä–∞–≤–∏–ª–∏ —Ñ–æ—Ä–º—É | –ö–æ–Ω–≤–µ—Ä—Å—ñ—è |
|-------|-----------------|------------------|-----------|
| –¢–µ—Å—Ç–æ–≤–∞ | 2100 | 156 | 0.0742 |
| –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ | 2100 | 129 | 0.0614 |

–Ø–∫—â–æ $\hat{p}_2 - \hat{p}_1 = 0$, —Ç–æ–¥—ñ —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è–º–∏ –Ω–µ–º–∞—î. –ú–∏ –ø–æ—Ä–∞—Ö—É—î–º–æ –¥–ª—è —Ü—ñ—î—ó —Ä—ñ–∑–Ω–∏—Ü—ñ –î–Ü (–∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏), —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —á–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î–º–æ –º–∏ –≤–∏–ø–∞–¥–∫–æ–≤—ñ—Å—Ç—å, —á–∏ –≤—Å–µ –∂ —Ç–∞–∫–∏ –∑–∞–∫–æ–Ω–æ–º—ñ—Ä–Ω—ñ—Å—Ç—å

--- 

| –ì—Ä—É–ø–∞ | –ü–æ–±–∞—á–∏–ª–∏ —Ñ–æ—Ä–º—É | –í—ñ–¥–ø—Ä–∞–≤–∏–ª–∏ —Ñ–æ—Ä–º—É | –ö–æ–Ω–≤–µ—Ä—Å—ñ—è |
|-------|-----------------|------------------|-----------|
| –¢–µ—Å—Ç–æ–≤–∞ | 2100 | 156 | 0.0742 |
| –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ | 2100 | 129 | 0.0614 |

\

$\hat{p}_2 - \hat{p}_1 \pm 1.96 \times \sqrt{\hat{p}_2(1 - \hat{p}_2) / n_2 + \hat{p}_1(1 - \hat{p}_1) / n_1}$

$\hat{p}_1$ —Ç–∞ $\hat{p}_2$ --- —Ü–µ –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

$n_1$ —Ç–∞ $n_2$ --- —Ä–æ–∑–º—ñ—Ä –≤–∏–±—ñ—Ä–æ–∫

\

::: {.border}
–§–æ—Ä–º—É–ª–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –¥–∏—Å–ø–µ—Ä—Å—ñ—ó –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É –ë–µ—Ä–Ω—É–ª–ª—ñ

$$p \times (1 - p)$$
:::

---

::: {.tiny}

| –ì—Ä—É–ø–∞ | –ü–æ–±–∞—á–∏–ª–∏ —Ñ–æ—Ä–º—É | –í—ñ–¥–ø—Ä–∞–≤–∏–ª–∏ —Ñ–æ—Ä–º—É | –ö–æ–Ω–≤–µ—Ä—Å—ñ—è |
|-------|-----------------|------------------|-----------|
| –¢–µ—Å—Ç–æ–≤–∞ | 2100 | 156 | 0.0742 |
| –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ | 2100 | 129 | 0.0614 |

\

$0.0742 - 0.0614 \pm 1.96 \times \sqrt{0.0742 \times (1 - 0.0742) / 2100 + 0.0614 \times (1 - 0.0614) / 2100} = \\ = [-0.002350384; 0.02806466]$

\

–ë–∞—á–∏–º–æ, —â–æ —Ä—ñ–∑–Ω–∏—Ü—è –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ –Ω—É–ª—å. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –≤—ñ–¥–∫–∏–Ω—É—Ç–∏ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É –Ω–∞ —Ä—ñ–≤–Ω—ñ 95%. –ó–∞–∑–≤–∏—á–∞–π —É —Ç–∞–∫—ñ –º–æ–º–µ–Ω—Ç–∏ —á–µ–∫–∞—é—Ç—å –¥–æ–≤—à–µ –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ. –¢–æ–º—É —è–∫ —Ç—É—Ç, –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –¥–æ—Å–∏—Ç—å –Ω–∏–∑—å–∫–∞ (<80%), –∞ —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—ñ—Ä–∏—Ç–∏ —Ü–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –º–∏ –Ω–µ –º–æ–∂–µ–º–æ

```{python}
#| echo: false
#| label: –¥–æ–≤—ñ—Ä—á–∏–π-—ñ–Ω—Ç–µ—Ä–≤–∞–ª-–¥–ª—è-—Ä—ñ–∑–Ω–∏—Ü—ñ-–ø—Ä–æ–ø–æ—Ä—Ü—ñ–π
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# parameters
p1 = 0.0614
p2 = 0.0742
n1 = 2100
n2 = 2100

# calculate standard error
se = np.sqrt(p1 * (1 - p1) / n1 + p2 * (1 - p2) / n2)

# calculate confidence interval
ci = 1.96 * se

# plot
plt.errorbar(y=[0], x=[p2 - p1], xerr=[ci], fmt='o', color='black')
sns.despine(left=True, bottom=True)
plt.gca().axes.get_yaxis().set_visible(False)
plt.axvline(0, color='black', linestyle='--')
plt.title('–î–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è —Ä—ñ–∑–Ω–∏—Ü—ñ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π')
plt.xlabel('–†—ñ–∑–Ω–∏—Ü—è –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π')
plt.show()
```

:::

# –ù–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó {.unnumbered .unlisted background-iframe=".02_files/libs/colored-particles/index.html"}

#

::: {.r-stack}
–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤, —É –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏—Ö —Ä–æ–∑–ø–æ–¥—ñ–ª –¥–∞–Ω–∏—Ö –Ω–µ–≤—ñ–¥–æ–º–∏–π.
:::

\

::: {.r-stack}
–ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤ —á–∞—Å—Ç–æ –¥—ñ—ó –ø—Ä–æ–≤–æ–¥—è—Ç—å –Ω–µ –∑ —Å–∞–º–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ —É –≤–∏–±—ñ—Ä—Ü—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª—É, –∞ –∑ —ó—Ö–Ω—ñ–º–∏ *—Ä–∞–Ω–≥–∞–º–∏*
:::

---

–ê—Ä—Ç—É—Ä—É –¥–æ–≤–æ–¥–∏—Ç—å—Å—è –Ω–µ—Å–æ–ª–æ–¥–∫–æ, —Ç–æ–º—É —â–æ –°–≤—è—Ç–æ—Å–ª–∞–≤—É –Ω–µ—Å–∞–º–æ–≤–∏—Ç–æ –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏ –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º. 

–¢–µ–ø–µ—Ä –π–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Å–µ—Ä–µ–¥–Ω—ñ —á–µ–∫–∏ –º—ñ–∂ –¥–≤–æ–º–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –≤ —Ç—ñ–π —Å–∞–º—ñ–π –ø—ñ—Ü–µ—Ä—ñ—ó!

![](img/pizza.jpg){fig-align="center"}

–©–æ–± –≤–∏—Ä—ñ—à–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è, –Ω–∞–º –¥–æ–ø–æ–º–æ–∂–µ –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏–π *$U$-–∫—Ä–∏—Ç–µ—Ä—ñ–π –ú–∞–Ω–Ω–∞-–í—ñ—Ç–Ω—ñ*

---

–†–æ–∑–ø–æ–¥—ñ–ª–∏ —è–≤–Ω–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ

```{python}
#| echo: false
#| label: non-normal-distribution
#| fig-align: center
#| layout-ncol: 2

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# two facet distributions with different means
np.random.seed(2024)
facet_a = [0, 100, 0, 700, 3300, 1100, 700, 500, 400, 1400]
facet_b = [0, 300, 1000, 0, 200, 500, 500, 1200, 400, 1200]

sns.histplot(facet_a, color="#447099", label='A')
plt.title('–ì—Ä—É–ø–∞ A')
plt.show()

sns.histplot(facet_b, color="#BF007F", label='B')
plt.title('–ì—Ä—É–ø–∞ B')
plt.show()
```

---

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏–¥—É–º–∞–ª–∏ —Ö–∏—Ç—Ä–µ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞–∫–∏—Ö –∑–∞–≤–¥–∞–Ω—å.

–°—É—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –º–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–º–æ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ —ó—Ö–Ω—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ —Ä–∞–Ω–≥–∏. –ù–∏–∂—á–µ —Ç–∞–±–ª–∏—Ü—è –¥–ª—è –¥–≤–æ—Ö –≥—Ä—É–ø

\

```{python}
#| echo: false
#| label: ranks-table

import pandas as pd

df = pd.DataFrame({
    'A': [0, 100, 0, 700, 3300, 1100, 700, 500, 400, 1400],
    'B': [0, 300, 1000, 0, 200, 500, 500, 1200, 400, 1200]
})

df.T
```

---

::: {.tiny}

1. –û–±'—î–¥–Ω–∞—î–º–æ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –¥–æ–≤–≥—É —Ç–∞–±–ª–∏—Ü—é —ñ —Å–æ—Ä—Ç—É—î–º–æ —ó—ó

```{python}
#| echo: false
#| label: ranks-table-long

df_long = df.melt(var_name='–ì—Ä—É–ø–∞', value_name='–ß–µ–∫')
df_long = df_long.sort_values('–ß–µ–∫')
df_long.T.style.hide(axis='columns')
```

\

:::

. . .

::: {.tiny}

2. –ü—Ä–∏—Å–≤–æ—ó–º–æ –∫–æ–∂–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–Ω—é —Å–≤—ñ–π —Ä–∞–Ω–≥. –°–ø–æ—á–∞—Ç–∫—É, –Ω–µ—Ö–∞–π —Ü–µ –±—É–¥–µ –ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä

```{python}
#| echo: false
#| label: ranks-table-long-with-ranks

df_long['–†–∞–Ω–≥'] = range(1, 21)
df_long.T.style.hide(axis='columns')
```

:::

\

. . .

::: {.tiny}

3. –ê–ª–µ –º–æ–∂–Ω–∞ –ø–æ–º—ñ—Ç–∏—Ç–∏, —â–æ –¥–µ—è–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è, –º–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —Ä—ñ–∑–Ω—ñ —Ä–∞–Ω–≥–∏. –î—É–∂–µ –≤–∞–∂–ª–∏–≤–æ —Ü–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏, –≤–∑—è–≤—à–∏ —Å–µ—Ä–µ–¥–Ω—î –º—ñ–∂ —Ä–∞–Ω–≥–∞–º–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å.

```{python}
#| echo: false
#| label: ranks-table-long-with-averaged-ranks

df_long['–†–∞–Ω–≥'] = df_long.groupby('–ß–µ–∫')['–†–∞–Ω–≥'].transform('mean')
df_long.T.style.hide(axis='columns').format(precision=1)
```

:::

---

:::: {.columns}

::: {.column width="40%"}
```{python}
#| echo: false
#| label: ranks-table-long-with-averaged-ranks-2

from great_tables import GT, from_column, style, loc

color_map = {
    True: "lightyellow",
    False: "lightblue"
}

df_long['–†–∞–Ω–≥'] = df_long.groupby('–ß–µ–∫')['–†–∞–Ω–≥'].transform('mean')
df_long_with_color = df_long.assign(
    background=(df_long["–ì—Ä—É–ø–∞"] == "A").replace(color_map)
)

(
    GT(df_long_with_color)
    .tab_style(
        style=style.fill(color=from_column(column="background")),
        locations=loc.body(columns="–ì—Ä—É–ø–∞")
    )
    .cols_hide(columns="background")
)

```
:::

::: {.column width="60%"}
4. –¢–µ–ø–µ—Ä –º–∏ –º–æ–∂–µ–º–æ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ $U$-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

$$U_1 = n_1 \times n_2 + \frac{n_1 \times (n_1 + 1)}{2} - R_1 \\ U_2 = n_1 \times n_2 + \frac{n_2 \times (n_2 + 1)}{2} - R_2$$

–¥–µ $R_1$ —Ç–∞ $R_2$ --- —Å—É–º–∏ —Ä–∞–Ω–≥—ñ–≤ –¥–ª—è –≥—Ä—É–ø 1 —Ç–∞ 2 –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ

–£ –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É  $U_1$ = `{python} 10 * 10 + (10 * 11) / 2 - 98.5` —Ç–∞  $U_2$ = `{python} 10 * 10 + (10 * 11) / 2 - 111.5`

:::

::::

---

5. –®—É–∫–∞—î–º–æ –≤ —Ç–∞–±–ª–∏—Ü—ñ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å (old school) –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –Ω–∞—à–æ–º—É —ñ –±–∞—á–∏–º–æ U~–∫—Ä–∏—Ç–∏—á–Ω–µ~ = 23.

–Ø–∫—â–æ $U$~–∫—Ä–∏—Ç–∏—á–Ω–µ~ > $U$ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ç–æ –º–∏ –≤—ñ–¥—Ö–∏–ª—è—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É –ø—Ä–æ —Ä—ñ–≤–Ω—ñ—Å—Ç—å —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ–≤

–ê–±–æ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `mannwhitneyu()` –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ `scipy` —ñ –æ–¥—Ä–∞–∑—É –æ—Ç—Ä–∏–º–∞—Ç–∏ $p$-–∑–Ω–∞—á–µ–Ω–Ω—è

---

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –Ω—É–ª—å–æ–≤–∞ –≥—ñ–ø–æ—Ç–µ–∑–∞ —É –ú–∞–Ω–Ω–∞-–£—ó—Ç–Ω—ñ **–Ω–µ –ø–æ—Ä—ñ–≤–Ω—é—î —Å–µ—Ä–µ–¥–Ω—ñ** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—É–º–∏ —Ä–∞–Ω–≥—ñ–≤, –∞ –≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–æ —Ç–µ, —â–æ **–≤–∏–±—ñ—Ä–∫–∏ –≤–∑—è—Ç—ñ –∑ –æ–¥–Ω–æ–≥–æ —ñ —Ç–æ–≥–æ –∂ —Ä–æ–∑–ø–æ–¥—ñ–ª—É**

–ì–æ–ª–æ–≤–Ω–∞ —É–º–æ–≤–∞ –∑–∞—Å—Ç–æ—Å–æ–≤–Ω–æ—Å—Ç—ñ –ú–∞–Ω–Ω-–í—ñ—Ç–Ω—ñ --- *—Å—Ö–æ–∂—ñ—Å—Ç—å —Ñ–æ—Ä–º —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ–≤*

–î–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Ä—ñ–≤–Ω—è–Ω—å —ñ—Å–Ω—É—î –Ω–∏–∑–∫–∞ –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤:

- –ö—Ä–∏—Ç–µ—Ä—ñ–π –ö—Ä–∞—Å–∫–µ–ª–ª–∞-–í–æ–ª–ª—ñ—Å–∞ (–≤—ñ–¥ 2-—Ö –≥—Ä—É–ø —ñ –±—ñ–ª—å—à–µ)
- –ö—Ä–∏—Ç–µ—Ä—ñ–π –î–∞–Ω–Ω–∞

## –ë–ª–æ–∫ —Å—Ö–µ–º–∞ –≤–∏–±–æ—Ä—É –º–µ—Ç–æ–¥–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è {.smaller .scrollable}

```{mermaid}
%%| label: test-choose
%%| echo: false
flowchart TD
    
    A[–¢–∏–ø –¥–∞–Ω–∏—Ö] -->|–ù–µ–ø–µ—Ä–µ—Ä–≤–Ω—ñ|B[–¢–∏–ø –ø–∏—Ç–∞–Ω–Ω—è?]
    A -->|–î–∏—Å–∫—Ä–µ—Ç–Ω—ñ|C[–•—ñ-–∫–≤–∞–¥—Ä–∞—Ç]
    B --> |–í–∑–∞—î–º–æ–∑–≤—è–∑–æ–∫| D[–ß–∏ —î –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –∑–º—ñ–Ω–Ω–∞?]
    B --> |–†—ñ–∑–Ω–∏—Ü—è| E[–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ —á–∏–º?]
    D --> |–¢–∞–∫| F[–†–µ–≥—Ä–µ—Å—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑]
    D --> |–ù—ñ| G[–ö–æ—Ä–µ–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑]
    G --> |–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏–π| T[–ö–æ—Ä–µ–ª—è—Ü—ñ—è –ü—ñ—Ä—Å–æ–Ω–∞]
    G --> |–ù–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–∏–π| U[–ö–æ—Ä–µ–ª—è—Ü—ñ—è –°–ø—ñ—Ä–º–µ–Ω–∞]
    E --> |–¢–µ—Å—Ç –æ–¥–Ω–∞–∫–æ–≤–æ—Å—Ç—ñ –¥–∏—Å–ø–µ—Ä—Å—ñ—ó| H[F —Ç–µ—Å—Ç,<br/> –¢–µ—Å—Ç –ë—Ä–∞—É–Ω–∞-–§–æ—Ä—Å–∞–π—Ç–∞,<br/> –¢–µ—Å—Ç –ë–∞—Ä—Ç–ª–µ—Ç—Ç–∞]
    E --> |–°–µ—Ä–µ–¥–Ω—ñ—Ö| I[–°–∫—ñ–ª—å–∫–∏ –≥—Ä—É–ø?]
    I --> |2| J[–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è?]
    I --> |> 2| K[–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è?]
    J --> |–¢–∞–∫| L[t-—Ç–µ—Å—Ç –¥–ª—è –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –≤–∏–±—ñ—Ä–æ–∫,<br/> t-—Ç–µ—Å—Ç –¥–ª—è –∑–∞–ª–µ–∂–Ω–∏—Ö –≤–∏–±—ñ—Ä–æ–∫]
    J --> |–ù—ñ| M[–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–∞—Ü—é—î?]
    M --> |–¢–∞–∫| L
    M --> |–ù—ñ| N[–ú–∞–Ω–Ω–∞-–£—ó—Ç–Ω—ñ,<br/> –í—ñ–ª–∫–æ–∫—Å–æ–Ω]
    K --> |–¢–∞–∫| O[ANOVA]
    K --> |–ù—ñ| P[–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–∞—Ü—é—î?]
    P --> |–¢–∞–∫| O
    P --> |–ù—ñ| Q[–ö—Ä–∏—Ç–µ—Ä—ñ–π –ö—Ä–∞—Å–∫–µ–ª–∞-–£–æ–ª–ª—ñ—Å–∞]
    O --> R[–ü–æ—Å—Ç-–∞–Ω–∞–ª—ñ–∑: <br/>–¢–µ—Å—Ç –¢—å—é–∫—ñ, <br/>–ë–æ–Ω—Ñ–µ—Ä—Ä–æ–Ω—ñ]
    Q --> S[–ü–æ—Å—Ç-–∞–Ω–∞–ª—ñ–∑: <br/>–¢–µ—Å—Ç –î–∞–Ω–Ω–∞]

    style noteA opacity:0
    style noteA color:#0000
    subgraph noteA ["`**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω—ñ —É–º–æ–≤–∏:**<br/>1. –ù–æ—Ä–º–∞–ª—å–Ω—ñ—Å—Ç—å<br/>2. –†—ñ–≤–Ω—ñ—Å—Ç—å –¥–∏—Å–ø–µ—Ä—Å—ñ–π<br/>3. –ù–µ–∑–∞–ª–µ–∂–Ω—ñ, –Ω–µ–∑–º—ñ—â–µ–Ω–Ω—ñ –≤–∏–±—ñ—Ä–∫–∏`"]
    end
```

## –ü—Ä–∏–∫–ª–∞–¥–∏

1. [{{< iconify devicon googlecolab >}} Z-test –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö –¥–≤–æ—Ö –≤–∏–±—ñ—Ä–æ–∫](https://colab.research.google.com/drive/1akOIzxt6I6EJnpA-oNhGgW4DbVg9vt_8#scrollTo=dwpJYeqdvyDI)
2. [{{< iconify devicon googlecolab >}} T-test –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ —Ä—ñ–∑–Ω–∏—Ü—ñ —Å–µ—Ä–µ–¥–Ω—ñ—Ö —É –¥–≤–æ—Ö –≤–∏–±—ñ—Ä–∫–∞—Ö](https://colab.research.google.com/drive/14VuW4axr7UcTZ6fV30U8PMwsdqZFm-JD#scrollTo=6Ss-IdZvv3Yh)
3. [{{< iconify devicon googlecolab >}} Z-test –¥–ª—è –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π](https://colab.research.google.com/drive/10unaiq6byZmoAw1l0Abj5YCOdo55JEKy#scrollTo=SPRSpObUv8tm)
4. [{{< iconify devicon googlecolab >}} –¢–µ—Å—Ç –ö–æ–ª–º–æ–≥–æ—Ä–æ–≤–∞-–°–º–∏—Ä–Ω–æ–≤–∞](https://colab.research.google.com/drive/1lEPBy_IUD4P1reP60V6xRh2Qvh0bugV8#scrollTo=vctHKsX-wpZI)
5. [{{< iconify devicon googlecolab >}} –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—ñ —Ä–æ–∑–ø–æ–¥—ñ–ª—É —Ç–µ—Å—Ç–æ–º –®–∞–ø—ñ—Ä–æ-–í—ñ–ª–∫–∞](https://colab.research.google.com/drive/1gTfEPR62pI8IGrcx1cHU5WhMf9FUh7Iw)
6. [{{< iconify devicon googlecolab >}} –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ö–° —Ç–∞ –®–í](https://colab.research.google.com/drive/1HqbUe3s0H1khFC2cma2EAF3nWIpZvGur)
7. [{{< iconify devicon googlecolab >}} –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –¥–∏—Å–ø–µ—Ä—Å—ñ–π —Ç–µ—Å—Ç–æ–º –ë–∞—Ä—Ç–ª–µ—Ç—Ç–∞](https://colab.research.google.com/drive/1YbWq83rl2oZ8n_Ux6QMqppKCFD2wjvmD)
8. [{{< iconify devicon googlecolab >}} –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –¥–∏—Å–ø–µ—Ä—Å—ñ–π —Ç–µ—Å—Ç–æ–º –õ–µ–≤–µ–Ω–∞](https://colab.research.google.com/drive/1EYM3Q0OjZI7Dxu2pErqEpYNkHwklTwOM#scrollTo=shaz_BzgxScH)
9. [{{< iconify devicon googlecolab >}} –ö—Ä–∏—Ç–µ—Ä—ñ–π –í—ñ–ª–∫–æ–∫—Å–æ–Ω–∞-–ú–∞–Ω–Ω–∞-–í—ñ—Ç–Ω—ñ](https://colab.research.google.com/drive/1mkuzbUf37e4ie4uWJ0VWqV3PvwZbD8vh)

# –°–ø–æ—Å–æ–±–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –æ–±—Å—è–≥—É –≤–∏–±—ñ—Ä–∫–∏ –¥–ª—è A/B-—Ç–µ—Å—Ç—ñ–≤. –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É {background-iframe=".02_files/libs/colored-particles/index.html"}

#

:::{.r-stack}
–Ø–∫ –≤–∏ –¥—É–º–∞—î—Ç–µ, —è–∫—â–æ –∑–∞ —Ä—ñ–∫ –ø—Ä–æ–≤–µ—Å—Ç–∏ 1000 A/B-—Ç–µ—Å—Ç—ñ–≤, —Å–∫—ñ–ª—å–∫–∏ –∑ –Ω–∏—Ö –±—É–¥—É—Ç—å –∑ –ø–æ–º–∏–ª–∫–æ–≤–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏?
:::

#

:::{.r-stack}
–Ø–∫ –≤–∏ –¥—É–º–∞—î—Ç–µ, —è–∫—â–æ –∑–∞ —Ä—ñ–∫ –ø—Ä–æ–≤–µ—Å—Ç–∏ 1000 A/B-—Ç–µ—Å—Ç—ñ–≤, —Å–∫—ñ–ª—å–∫–∏ –∑ –Ω–∏—Ö –±—É–¥—É—Ç—å –∑ –ø–æ–º–∏–ª–∫–æ–≤–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏?
:::

\

:::{.r-stack}
$\leq \alpha$  —Ç–∞ $\leq 1 - \beta$
:::

---

**–ú–∏ –≤–∏–¥—ñ–ª—è—î–º–æ 2 —Å–ø–æ—Å–æ–±–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ–≥–æ —á–∞—Å—É –Ω–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:**

\

:::: {.columns}

::: {.column width="50%"}
#### Fixed Horizon

[–ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è]{.green}

[–í–∏—Å–æ–∫–∞ –ø–æ–º–∏–ª–∫–∞ —Ä–∞–Ω–Ω—å–æ–≥–æ –∑—É–ø–∏–Ω–µ–Ω–Ω—è]{.red}

+ –§—ñ–∫—Å–æ–≤–∞–Ω–∏–π —á–∞—Å–æ–≤–∏–π –≥–æ—Ä–∏–∑–æ–Ω—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É
+ –û–¥–∏–Ω —Ä–∞–∑ —Ä–æ–∑—Ä–∞—Ö—É–≤–∞–ª–∏, –æ–¥–∏–Ω —Ä–∞–∑ –ø—ñ–¥–≥–ª–µ–¥—ñ–ª–∏ –π —É—Ö–≤–∞–ª–∏–ª–∏ —Ä—ñ—à–µ–Ω–Ω—è
:::

::: {.column width="50%"}
#### Sequential testing

[–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è ¬´–ø—Ä–æ–±–ª–µ–º–∏ –ø–æ–≥–¥–ª—è–¥—É–≤–∞–Ω–Ω—è¬ª]{.green}

[–°–∫–ª–∞–¥–Ω—ñ—à–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è]{.red}

+ –ú–µ–∂—ñ –∑—É–ø–∏–Ω–∫–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è real-time
+ –ó–Ω–∞—á—É—â—ñ—Å—Ç—å –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª—å–Ω–æ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∑–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω–Ω—è
:::

::::

## Fixed Horizon

#### –ï—Ç–∞–ø–∏

```{mermaid}
%%| echo: false
%%| fig-align: center

flowchart LR
    A[–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ N] --> B[–ó–±—ñ—Ä N]
    B --> C{p-–∑–Ω–∞—á–µ–Ω–Ω—è < Œ±?}
    C --> |–¢–∞–∫| D[–í—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É]
    C --> |–ù—ñ| E[–ù–µ –≤—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É]
```

::: {.callout-note icon="false"}
$N$ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∑–≥—ñ–¥–Ω–æ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ TP (–ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å), TN (—Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ), MDE (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç)
:::

## –§–∞–∫—Ç–æ—Ä–∏, —â–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —á–∞—Å {.scrollable}

```{mermaid}
%%| echo: false

flowchart LR
    A["`–§–∞–∫—Ç–æ—Ä–∏, —â–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞
    —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å
    –µ–∫—Å–ø–µ–º–µ–Ω—Ç—É`"] --> B[–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ]
    A --> C[–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ñ]
    B --> D[–†–æ–∑–º—ñ—Ä –≤–∏–±—ñ—Ä–∫–∏]
    B --> E[–î–∏—Å–ø–µ—Ä—Å—ñ—è]
    D --> F[–†–æ–∑–º—ñ—Ä –µ—Ñ–µ–∫—Ç—É]
    D --> G["`–ü–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É`"]
    D --> H["`–ü–æ–º–∏–ª–∫–∞ II —Ä–æ–¥—É`"]
    C --> I[–°–µ–∑–æ–Ω–Ω—ñ—Å—Ç—å]
    C --> J[–ú–µ—Ç—Ä–∏–∫–∞]
    I --> K[–©–æ—Ç–∏–∂–Ω–µ–≤–∞]
    I --> L[–©–æ–º—ñ—Å—è—á–Ω–∞]
    I --> M["`...`"]
    J --> N[–¢–∏–ø—ñ–∑–∞—Ü—ñ—è]
    J --> O[–í—ñ–∫–Ω–æ –∑–∞–∫—Ä–∏—Ç—Ç—è]
    N --> P[Ratio]
    N --> Q[Continuous]
    N --> R[Proportion]
```

## –ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å

–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–æ–±–∞—á–∏—Ç–∏ –∑–Ω–∞—á—É—â—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤ –º–µ—Ç—Ä–∏—Ü—ñ —Ç–∞–º, –¥–µ –≤–æ–Ω–∏ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –º–∞—é—Ç—å –±—É—Ç–∏, –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **—á—É—Ç–ª–∏–≤—ñ—Å—Ç—é**


–í–∏—Å–æ–∫–∞ —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–∞—î –∑–º–æ–≥—É:

- –±–∞—á–∏—Ç–∏ –¥–æ—Å–∏—Ç—å *–º–∞–ª–µ–Ω—å–∫—ñ* –∑–º—ñ–Ω–∏
- –∞–±–æ –∑–∞–ª—É—á–∞—Ç–∏ *–º–µ–Ω—à—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å* –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## –ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ª–µ–∂–Ω–∞ –≤—ñ–¥ –º–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö —Ü–∏–∫–ª—ñ–≤

–ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É –∑–∞–ª–µ–∂–Ω–∞ –≤—ñ–¥ –Ω–∞–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫ —ñ –≥–∞–ª—É–∑—ñ, –≤ —è–∫—ñ–π —Ü—ñ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ü—ñ–Ω—é—é—Ç—å—Å—è:

- –ö–ª—ñ–∫ –ø–æ –±–∞–Ω–µ—Ä—É —á—É—Ç–ª–∏–≤—ñ—à–∏–π, –Ω—ñ–∂ —Ñ–∞–∫—Ç –∫—É–ø—ñ–≤–ª—ñ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—ñ
- –°1 —á—É—Ç–ª–∏–≤—ñ—à–∏–π, –Ω—ñ–∂ –°2, –°3 Cn
- –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É free-to-play —ñ–≥—Ä–∞—Ö —á—É—Ç–ª–∏–≤—ñ—à–∞, –Ω—ñ–∂ —É travel –≥–∞–ª—É–∑—ñ

## –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Ç–∞ –ø–æ–º–∏–ª–∫–∞ II —Ä–æ–¥—É

–ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∏—Ö —Ä–µ–∞–ª—ñ–π —î –≤–∞–∂–ª–∏–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º, —Ç–æ–º—É —â–æ –Ω—ñ–∫–æ–º—É –Ω–µ —Ö–æ—Ç—ñ–ª–æ—Å—è –± –≤–∏–∫–∏–¥–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏.

:::: {.columns}

::: {.column width="40%"}

::: {.callout-note icon="false"}
## –ü—Ä–∏–∫–ª–∞–¥

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –º–∏ –±–µ—Ä–µ–º–æ —Ä—ñ–≤–µ–Ω—å –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —É 80% —è–∫ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –¥–æ–ø—É—Å—Ç–∏–º–∏–π –ø–æ—Ä—ñ–≥ –¥–ª—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤, —Ç–æ –∑ 1000 –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ –∑ —Ä–µ–∞–ª—å–Ω–∏–º –ø—Ä–∏—Ä–æ—Å—Ç–æ–º —É –º–µ—Ç—Ä–∏–∫—É, —É 800 –º–∏ –±—É–ª–∏ –± —É–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –ø—Ä–∏—Ä—ñ—Å—Ç —î. –ó–∞–ª–∏—à–∞—é—Ç—å—Å—è 200, —è–∫—ñ –±—É–¥—É—Ç—å –≤–∏–∫–∏–Ω—É—Ç—ñ –≤ —Å–º—ñ—Ç–Ω–∏–∫ –¥–∞—Ä–µ–º–Ω–æ, —Ç–æ–º—É —â–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è *False Negative (–ø–æ–º–∏–ª–∫–∞ II)* = 0.2.
:::

:::

::: {.column width="60%"}
```{mermaid}
%%| echo: false

flowchart TB
    A["`1000 A/B-—Ç–µ—Å—Ç—ñ–≤
    –∑ –ø–æ—Ç–∏–≤–∏–Ω–∏–º–∏
    —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏`"] --> |"`Œ≤
    –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å = 0.8`"| B["`800 —Ç–µ—Å—Ç—ñ–≤
    –ø—ñ—à–ª–∏ –≤ –ø—Ä–æ–¥`"]
    A --> |"`1 - Œ≤
    –ü–æ–º–∏–ª–∫–∞ II —Ä–æ–¥—É = 0.2`"| C["`200 —Ç–µ—Å—Ç—ñ–≤
    –ø–æ–º–∏–ª–∫–æ–≤–æ
    –Ω–µ –ø—ñ—à–ª–∏ –≤ –ø—Ä–æ–¥`"]
```
:::

::::

## –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Ç–∞ –ø–æ–º–∏–ª–∫–∞ II —Ä–æ–¥—É

#### –í–∏—Ö–æ–¥–∏—Ç—å, —â–æ...

–ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–æ –º–∞–∫—Å–∏–º—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞ —Å—Ç—ñ–ª—å–∫–∏, –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø—Ä–æ–¥—É–∫—Ç—É. –ù–∞—Å–∞–º–ø–µ—Ä–µ–¥ —Ü–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ MAU —ñ, –∑–∞–≥–∞–ª–æ–º, –≤—ñ–¥ —Ç—Ä–∞—Ñ—ñ–∫—É.

#### –í–∏—Å–Ω–æ–≤–æ–∫

–©–æ –≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ, —Ç–æ –º–µ–Ω—à–µ —Ö–æ—Ä–æ—à–∏—Ö –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ –±—É–¥–µ –ø–æ–º–∏–ª–∫–æ–≤–æ –∑–∞–±—É—Ç–æ

## –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ —Ç–∞ –ø–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É

–ö–æ–ª–∏ —É—Ö–≤–∞–ª—é—é—Ç—å —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É, –≤–≤–∞–∂–∞—é—Ç—å, —â–æ –Ω–∞—Å–∞–º–ø–µ—Ä–µ–¥ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–∏–≤–∏—Ç–∏—Å—è –Ω–∞ $p$-value (–ø–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É –∞–±–æ false positive): –ø–æ–∑–∏—Ç–∏–≤–Ω–∞ –∑–º—ñ–Ω–∞, –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞ –∑–º—ñ–Ω–∞ –∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–º—ñ–Ω–∏

:::: {.columns}

::: {.column width="40%"}

::: {.callout-note icon="false"}
## –ü—Ä–∏–∫–ª–∞–¥

–ü—Ä–∏–ø—É—Å—Ç—ñ–º–æ, –º–∏ –±–µ—Ä–µ–º–æ —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ –≤ 95% —è–∫ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –¥–æ–ø—É—Å—Ç–∏–º–∏–π –ø–æ—Ä—ñ–≥ –¥–ª—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤, —Ç–æ –∑ 1000 –±–µ–∑—É—Å–ø—ñ—à–Ω–∏—Ö –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ (–Ω–µ–º–∞—î –µ—Ñ–µ–∫—Ç—É) —É 950 –º–∏ –±—É–ª–∏ –± —É–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –µ—Ñ–µ–∫—Ç—É —Ä–µ–∞–ª—å–Ω–æ –Ω–µ–º–∞—î. –ê–ª–µ 50 –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –≤–∏–∫–∞—Ç–∏–ª–∏ –± —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω, —Ö–æ—á–∞ –≤ —Ü—å–æ–º—É –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ —Å–µ–Ω—Å—É, —Ç–æ–º—É —â–æ –≤ –Ω–∏—Ö –º–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ—Å—Ç—å, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω—É –∑–∞–∫–æ–Ω–æ–º—ñ—Ä–Ω—ñ—Å—Ç—å.
:::

:::

::: {.column width="60%"}
```{mermaid}
%%| echo: false

flowchart TB
    A["`1000 A/B-—Ç–µ—Å—Ç—ñ–≤
    –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤`"] --> |"`1-Œ±
    –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ = 0.95`"| B["`950 —Ç–µ—Å—Ç—ñ–≤
    –Ω–µ –ø—ñ—à–ª–∏ –≤ –ø—Ä–æ–¥`"]
    A --> |"`Œ± = 0.95
    –ü–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É = 0.05`"| C["`50 —Ç–µ—Å—Ç—ñ–≤
    –ø–æ–º–∏–ª–∫–æ–≤–æ
    –ø—ñ—à–ª–∏ –≤ –ø—Ä–æ–¥`"]
```
:::

::::

## –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ —Ç–∞ –ø–æ–º–∏–ª–∫–∞ I —Ä–æ–¥—É

#### –í–∏—Ö–æ–¥–∏—Ç—å, —â–æ...

–¢–∞–∫ —Å–∞–º–æ —è–∫ —ñ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å, —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏ –≤ –º—ñ—Ä—É –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π. –ö–ª–∞—Å–∏—á–Ω—ñ 95% –≤—ñ–¥—ñ—Ä–≤–∞–Ω—ñ –≤—ñ–¥ —Å—É—á–∞—Å–Ω–∏—Ö —Ä–µ–∞–ª—ñ–π –∑ –±—ñ–≥–¥–∞—Ç–∞–º–∏ —Ç–∞ –≤–∏–º–æ–≥ –±—ñ–∑–Ω–µ—Å—É –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ç–∂–µ, 5% –∑–¥–∞—é—Ç—å—Å—è –Ω–µ–¥–æ–∑–≤–æ–ª–µ–Ω–æ—é –ø–æ–º–∏–ª–∫–æ—é –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π.

#### –í–∏—Å–Ω–æ–≤–æ–∫

–©–æ –≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, —Ç–æ –º–µ–Ω—à–µ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ –±—É–¥—É—Ç—å –≤–∏–∫–æ—á—É–≤–∞—Ç–∏—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω.

---

```{mermaid}
%%| echo: false
%%| fig-align: center

flowchart TB
    A["`1000 A/B-—Ç–µ—Å—Ç—ñ–≤`"] --> |"`30% —Ç–µ—Å—Ç—ñ–≤ –º–∞—é—Ç—å
    –¥–∞—Ç–∏ –µ—Ñ–µ–∫—Ç &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 30%`"| B["`–Ñ –µ—Ñ–µ–∫—Ç
    —É 300`"]
    A --> |"`70%`"| C["`–ù–µ –º–∞—î –µ—Ñ–µ–∫—Ç—É
    —É 700`"]
    B --> |"`power = 35% &nbsp&nbsp&nbsp&nbsp 35%`"| D["`105 —Ç–µ—Å—Ç—ñ–≤
    –≤–∏—è–≤–∏–ª–∏
    –µ—Ñ–µ–∫—Ç (TP)`"]
    B --> |"`65%`"| E["`195 —Ç–µ—Å—Ç—ñ–≤
    –Ω–µ –≤–∏—è–≤–∏–ª–∏
    –µ—Ñ–µ–∫—Ç (FN)`"]
    C --> |"`95%`"| F["`665 —Ç–µ—Å—Ç—ñ–≤ –Ω–µ
    –∑–Ω–∞—á—É—â—ñ (TN)`"]
    C --> |"`5%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspŒ± = 5%`"| G["`35 —Ç–µ—Å—Ç—ñ–≤
    —î –∑–Ω–∞—á—É—â–∏–º–∏ (FP)`"]
    subgraph ide1 [p < Œ±&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp]
    D
    end
    subgraph ide2 [p < Œ±&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp]
    G
    end

    style ide1 fill:#fff,stroke:#333,stroke-width:2px
    style ide2 fill:#fff,stroke:#333,stroke-width:2px

```

## –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç (MDE) {.smaller}

:::: {.columns}

::: {.column width="60%"}
#### –©–æ —Ç–∞–∫–µ MDE?

–ó–º—ñ–Ω–∏, —è–∫—ñ –º–∏ —Ö–æ—Ç—ñ–ª–∏ –± –ø–æ–±–∞—á–∏—Ç–∏ —ñ–∑ –∑–∞–¥–∞–Ω–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ –ø–æ–º–∏–ª–æ–∫ I —ñ II —Ç–∏–ø—ñ–≤, —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é
*–º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ–≥–æ –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ –µ—Ñ–µ–∫—Ç—É* (minimum detectable effect –∞–±–æ MDE). 

–î–ª—è —Ü—å–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ –≤–∏—Å—Ç–∞—á–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –æ–ø–∏—Å—É. –†–æ–∑–±–µ—Ä–µ–º–æ –æ—Å–Ω–æ–≤–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –¥–∞–ª—ñ
:::

::: {.column width="40%"}

```{python}
#| echo: false
#| label: mde-plot

# plot two distributions with different means
# annotate the difference between them with t_alpha/2 or t_alpha and t_1-beta
# add the area of the effect size
# add the area of the MDE

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# parameters
np.random.seed(2024)
n = 1000
mean_a = 0
mean_b = 5
std = 1

# generate data
a = np.random.normal(mean_a, std, n)
b = np.random.normal(mean_b, std, n)

# plot
sns.kdeplot(a, color="#447099", label='A')
sns.kdeplot(b, color="#BF007F", label='B')
plt.axvline(mean_b, color='black', linestyle='--')
plt.axvline(mean_a, color='black', linestyle='--')
plt.axvline(mean_b - mean_b/3, color='black', linestyle='--')
# add annotations of One-tail multiplier and Two-tail multiplier with arrows
plt.annotate('', xy=(mean_a, 0.35), xytext=(mean_b - mean_b/3, 0.35), arrowprops=dict(arrowstyle='<->'))
plt.annotate('', xy=(mean_b - mean_b/3, 0.35), xytext=(mean_b, 0.35), arrowprops=dict(arrowstyle='<->'))
# add text
plt.text(mean_b - mean_b/6, 0.36, '$t_{1-B}$', ha='center', fontsize=16)
plt.text(mean_b - mean_b/1.5, 0.36, '$t_{\\alpha/2}$ –∞–±–æ $t_{\\alpha}$', ha='center', fontsize=16)
plt.show()
```

One-tail multiplier = $t_{\alpha} + t_{1-B}$

Two-tail multiplier = $t_{\alpha/2} + t_{1-B}$
:::

::::

## MDE, Lift, ES {.smaller}

–ü–æ—á–Ω–µ–º–æ –∑ —Ç–æ–≥–æ, —â–æ –ª—é–¥–∏ —á–∞—Å—Ç–æ –ø–ª—É—Ç–∞—é—Ç—å **MDE** —ñ **Lift** (–∞–±–æ *Uplift*). 

–¢–∏–ø–æ–≤–æ, –≤ –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è—Ö –º–∞—é—Ç—å –Ω–∞ —É–≤–∞–∑—ñ –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ, –∫–æ–ª–∏ –≥–æ–≤–æ—Ä—è—Ç—å –ø—Ä–æ –µ—Ñ–µ–∫—Ç, –ø—Ä–∏—Ä—ñ—Å—Ç, –∑–Ω–∞—á—É—â–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç —Ç–∞ —ñ–Ω—à—ñ –ø–æ–¥—ñ–±–Ω—ñ. –ê–ª–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ü–µ –Ω–µ —Ç–∞–∫. –£ —Ü–∏—Ö –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è—Ö —Å–µ–º–∞–Ω—Ç–∏–∫–∞ –≤—ñ–¥—ñ–≥—Ä–∞—î –≤–∞–∂–ª–∏–≤—É —Ä–æ–ª—å, –∫–æ–ª–∏ –∑–∞—Ö–æ–¥–∏—Ç—å –º–æ–≤–∞ –ø—Ä–æ –æ—Ü—ñ–Ω–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ A/B.

\

(–≤–∏–≥–∞–¥–∞–Ω–∏–π –¥—ñ–∞–ª–æ–≥)

> –ù—É —â–æ? –í–∏—Ä–æ—Å–ª–∞ –º–µ—Ç—Ä–∏–∫–∞?

\

–í–∞—Ä—ñ–∞–Ω—Ç–∏ —è–∫ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏:

::: {layout-ncol=3}
###

**1. Lift**

###

**2. MDE**

###

**3. Effect Size**
:::

## Lift {.smaller}

:::: {.columns}

::: {.column width="50%"}
::: {.border}
**Lift** = $\frac{\bar{Y}_t - \bar{Y}_c}{\bar{Y}_c}$, –¥–µ $\bar{Y}_t, \; \bar{Y}_c$ --- –º–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç—É —ñ –∫–æ–Ω—Ç—Ä–æ–ª—é –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ
:::
:::

::: {.column width="50%"}
[–ù–∞–ø—Ä–∏–∫–ª–∞–¥, RPV (revenue per visit) —É –∫–æ–Ω—Ç—Ä–æ–ª—ñ 118, —É —Ç–µ—Å—Ç—ñ 121. –¢–æ–¥—ñ *Lift* = (121-118)/118 = 0.0254 = 2.54%.]{.smaller}
:::

::::

\

**Lift** --- —Ü–µ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç—É –≤—ñ–¥ –º–µ—Ç—Ä–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é. –†–∞—Ö—É—î–º–æ —ó—Ö–Ω—é —Ä—ñ–∑–Ω–∏—Ü—é —ñ –¥—ñ–ª–∏–º–æ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å. –ú–Ω–æ–∂–∏–º–æ –Ω–∞ 100 —ñ –æ—Ç—Ä–∏–º—É—î–º–æ %-–≤—É –∑–º—ñ–Ω—É.

\

–ú–∏ –∑–∞ —Ñ–∞–∫—Ç–æ–º –Ω–∞ –¥–∞–Ω–∏—Ö –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –ø—Ä–∏—Ä—ñ—Å—Ç —ñ –≥–æ–≤–æ—Ä–∏–º–æ —è–∫–∞ —É –º–µ—Ç—Ä–∏–∫ –≤—ñ–¥–Ω–æ—Å–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è. –¢—É—Ç –ø–æ–∫–∏ —â–æ –Ω—ñ –ø—Ä–æ —è–∫—ñ –ø–æ–º–∏–ª–∫–∏ I —ñ II —Ç–∏–ø—ñ–≤ –Ω–µ –π–¥–µ—Ç—å—Å—è. –¶–µ –∑–≤–∏—á–∞–π–Ω–∏–π –ø—Ä–æ–∫—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –∫–≤–∞–∑—ñ-–æ—Ü—ñ–Ω–∫–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É.

## Effect Size {.smaller}

:::: {.columns}

::: {.column width="50%"}
::: {.border}
**Effect Size** = $\frac{\bar{Y}_t - \bar{Y}_c}{\sigma}$, –¥–µ $\sigma = \frac{\sigma_t - \sigma_c}{2}$
:::
:::

::: {.column width="50%"}
[–ù–∞–ø—Ä–∏–∫–ª–∞–¥, RPV —É –∫–æ–Ω—Ç—Ä–æ–ª—ñ 118, —É —Ç–µ—Å—Ç—ñ 121, —Å–∏–≥–º–∞ 2. –¢–æ–¥—ñ *Effect size* = (121-118)/2 = 1.5
Effect size —Ä–∞—Ö—É—î—Ç—å—Å—è –ø–æ —Ä—ñ–∑–Ω–æ–º—É –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –º–µ—Ç—Ä–∏–∫, –∞–ª–µ —Å—É—Ç—å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è (–≤–∏—â–µ –ø–æ–∫–∞–∑–∞–Ω–æ —Ñ–æ—Ä–º—É–ª—É –¥–ª—è [Cohen's d](https://en.wikipedia.org/wiki/Effect_size#Cohen's_d))]{.smaller}
:::

::::

\

–©–æ –±—ñ–ª—å—à–µ –æ—Ç—Ä–∏–º–∞–Ω–µ —á–∏—Å–ª–æ, —Ç–æ —Å–∏–ª—å–Ω—ñ—à–∏–π —Ä–æ–∑–º—ñ—Ä –µ—Ñ–µ–∫—Ç—É. –¶–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ, —è–∫—â–æ –¥–∏—Å–ø–µ—Ä—Å—ñ—è —Å—Ç—ñ–π–∫–∞ —ñ –º–∞–π–∂–µ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è.

\

Effect size –≤–∏–º—ñ—Ä—é—î —Å—Ç—É–ø—ñ–Ω—å –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è —Å–ø–æ—Å—Ç–µ—Ä–µ–∂—É–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å –≤—ñ–¥ —Ç–∏—Ö, —è–∫—ñ –º–æ–∂–Ω–∞ –±—É–ª–æ –± –æ—á—ñ–∫—É–≤–∞—Ç–∏ –∑–∞ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –µ—Ñ–µ–∫—Ç—É. –¢–æ–±—Ç–æ —Ä–∞—Ö—É—é—á–∏ —Ä—ñ–∑–Ω–∏—Ü—é –¥–æ –¥–∏—Å–ø–µ—Ä—Å—ñ—ó, –º–æ–∂–Ω–∞ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Å–∏–ª—å–Ω–æ –≤—ñ–¥—Ö–∏–ª–∏–≤—Å—è –æ—Ç—Ä–∏–º–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç –≤—ñ–¥ –µ—Ñ–µ–∫—Ç—É, —è–∫–∏–π –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é.

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è MDE

```{python}
#| echo: false
#| label: fig-3-plot-mde-alpha
#| fig-cap: "–ì—Ä–∞—Ñ—ñ–∫—É —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É MDE"

import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

# Function to calculate the power of an A/B test
def calculate_power(mde, alpha, n, p_control=0.5):
    # Z-score for alpha level (two-tailed test)
    z_alpha = norm.ppf(1 - alpha / 2)
    
    # Standard error for both groups (assuming equal sample sizes and a binomial distribution)
    pooled_prob = p_control
    se = np.sqrt(2 * pooled_prob * (1 - pooled_prob) / n)
    
    # Z-score for the MDE
    z_mde = mde / se
    
    # Power is the probability that the test statistic exceeds the critical value
    power = norm.cdf(z_mde - z_alpha)
    
    return power

# Define parameters
alpha_values = [0.01, 0.05]
mde_values = [0.5, 1, 1.5]
n_values = np.arange(1, 10)

# Initialize figure for plotting with 3 subplots
fig, axes = plt.subplots(1, 3, figsize=(18, 6), sharey=True)

# Iterate over MDE values and plot in separate subplots
for i, mde in enumerate(mde_values):
    ax = axes[i]
    for alpha in alpha_values:
        powers = [calculate_power(mde, alpha, n) for n in n_values]
        ax.plot(n_values, powers, label=f'Œ±={alpha}')
    
    # Plot settings for each subplot
    ax.set_title(f'MDE = {mde}')
    ax.set_xlabel("Number of Observations")
    ax.set_ylabel("Power" if i == 0 else "")
    ax.axhline(y=0.8, color='red', linestyle='--', label="80% Power")
    ax.grid(True)
    ax.legend()

plt.tight_layout()
plt.show()
```

## MDE {.smaller}

**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç** --- —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π [—ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç]{.pink} –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –∑ —É–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é –∑–º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π.

*–ë—ñ–ª—å—à —Ñ–æ—Ä–º–∞–ª—å–Ω–æ:* —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π [—ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç]{.pink}, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –º–∞—î –ø–µ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ]{.blue} –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ]{.blue}, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç]{.red}.

## MDE {.smaller}

[**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç** --- —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π]{.grey-vlight} [—ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç]{.pink} [–æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –∑ —É–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é –∑–º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π.]{.grey-vlight}

[*–ë—ñ–ª—å—à —Ñ–æ—Ä–º–∞–ª—å–Ω–æ:* —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π]{.grey-vlight} [—ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç]{.pink}[, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –º–∞—î –ø–µ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç.]{.grey-vlight}

...[—ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç]{.pink}... --- —Ç—É—Ç –º–∞—î—Ç—å—Å—è –Ω–∞ —É–≤–∞–∑—ñ, —â–æ —è–∫—â–æ –∑–Ω–∞—á—É—â–æ—ó –∑–º—ñ–Ω–∏ –∑–∞ n = 10000 —É —Ç–∞–∫–æ–≥–æ –µ—Ñ–µ–∫—Ç—É –Ω–µ–º–∞—î (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 2%), —Ç–æ –¥–æ—Å–∏—Ç—å —É–ø–µ–≤–Ω–µ–Ω–æ –º–æ–∂–Ω–∞ —Å–∫–∞–∑–∞—Ç–∏ –ª–∏—à–µ —Ç–µ, —â–æ –º–æ–∂–ª–∏–≤–∏–π —ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç –Ω–µ –±—ñ–ª—å—à–∏–π, –Ω—ñ–∂ MDE. –Ø–∫—â–æ –≤–∏–±—ñ—Ä–∫–∞ –±—É–ª–∞ –± –±—ñ–ª—å—à–æ—é, —Å–∫–∞–∂—ñ–º–æ n = 20000, —Ç–æ, –º–æ–∂–ª–∏–≤–æ, –µ—Ñ–µ–∫—Ç –º–∏ –± —ñ –ø–æ–±–∞—á–∏–ª–∏, –∞–ª–µ —Ç–æ—á–Ω–æ –º–µ–Ω—à–∏–π (—Ç–æ–±—Ç–æ <2%).

## MDE {.smaller}

[**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç** --- —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π —ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –∑ —É–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é –∑–º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π.]{.grey-vlight}

[*–ë—ñ–ª—å—à —Ñ–æ—Ä–º–∞–ª—å–Ω–æ:* —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π —ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –º–∞—î –ø–µ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ]{.blue} –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ]{.blue}, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç.]{.grey-vlight}

...[–ø–µ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ]{.blue}... --- —É —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∞—Ö MDE –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å $\alpha$, $\beta$ —Ç–∞ —Ä–æ–∑–º—ñ—Ä –≤–∏–±—ñ—Ä–∫–∏. –í–∏—Ö–æ–¥—è—á–∏ —ñ–∑ –∑–∞–¥–∞–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, MDE –±—É–¥–µ –≤–∞—Ä—ñ—é–≤–∞—Ç–∏—Å—è –∑–∞ –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –æ–±—Å—è–≥—É –≤–∏–±—ñ—Ä–∫–∏. –¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –Ω–∞ [–ì—Ä–∞—Ñ—ñ–∫—É —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É MDE @fig-3-plot-mde-alpha]: —â–æ –Ω–∏–∂—á—ñ –∞–ª—å—Ñ–∞ —ñ –±–µ—Ç–∞, —Ç–æ –±—ñ–ª—å—à–µ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ —ñ —Ç–æ–≥–æ –∂ MDE

## MDE {.smaller}

[**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –µ—Ñ–µ–∫—Ç** --- —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π —ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –∑ —É–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é –∑–º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π.]{.grey-vlight}

[*–ë—ñ–ª—å—à —Ñ–æ—Ä–º–∞–ª—å–Ω–æ:* —Ü–µ –Ω–∞–π–º–µ–Ω—à–∏–π —ñ—Å—Ç–∏–Ω–Ω–∏–π –µ—Ñ–µ–∫—Ç, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤—ñ–¥ –∑–º—ñ–Ω, —è–∫–∏–π –º–∞—î –ø–µ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π [—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç]{.red}.]{.grey-vlight}

...[—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç]{.red} --- —É —Ñ–æ—Ä–º—É–ª—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É MDE –≤—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è —Ä–æ–∑–ø–æ–¥—ñ–ª, –∑ —è–∫–æ–≥–æ –≤–∑—è—Ç–æ –º–µ—Ç—Ä–∏–∫—É. MDE –ø–æ —Ä—ñ–∑–Ω–æ–º—É —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –¥–ª—è $t$-–∫—Ä–∏—Ç–µ—Ä—ñ—é, $\chi^2$ —Ç–∞ —ñ–Ω—à–∏—Ö —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤

## –Ø–∫ —Ä–∞—Ö—É–≤–∞—Ç–∏ MDE? {.smaller}

::: {.border}
**Minimum Detectable Effect** = $M \frac{S}{\bar{Y}_c}$, –¥–µ $M = t_{\alpha/2}$, $S = \sqrt{\frac{\sigma_t^2 + \sigma_c^2}{2}}$
:::

–£ $M$ —Ä–∞—Ö—É—î–º–æ $t$-–∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ $\alpha$ —Ç–∞ $\beta$. –î–ª—è –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ $\alpha$ –¥—ñ–ª–∏–º–æ –Ω–∞ 2. –î–∞–ª—ñ –∫–æ–ª–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ *MDE*, –º–∏ –±—É–¥–µ–º–æ –≤–ø–µ–≤–Ω–µ–Ω—ñ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö, –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–∏—Ö –ø–æ—Ä–æ–≥—ñ–≤ –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ —Ç–∞ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ.

\

–Ø–∫—â–æ –Ω–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ 99%, —Ç–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –±–µ—Ä–µ–º–æ 0.01 —ñ –æ—Ç—Ä–∏–º—É—î–º–æ $t{\alpha/2 = 2.58}$.

\

–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–ª—è $\beta$: –¥–ª—è 80% –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ. –¢–æ–¥—ñ $M = 2.58 + 0.842 = 3.422$

–î–∞–ª—ñ –º–Ω–æ–∂–∏–º–æ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –ø–æ—Ö–∏–±–∫—É –π –æ—Ç—Ä–∏–º—É—î–º–æ **MDE**! –í—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—é $\bar{Y}_c$ —Ç—É—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫–∞.

---

–©–æ –º–µ–Ω—à–∏–π **MDE** –º–∏ —Ö–æ—Ç—ñ–ª–∏ –± –æ—Ç—Ä–∏–º–∞—Ç–∏, —Ç–æ –±—ñ–ª—å—à–µ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –π–æ–≥–æ –≤–∏—è–≤–ª–µ–Ω–Ω—è

```{python}
#| echo: false
#| label: mde-vs-n
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

# Function to calculate the power of an A/B test
def calculate_mde(alpha, beta, n, p_control=0.5):
    # Z-score for alpha level (two-tailed test)
    z_alpha = norm.ppf(1 - alpha / 2)
    
    # Z-score for beta level
    z_beta = norm.ppf(1 - beta)
    
    # Standard error for both groups (assuming equal sample sizes and a binomial distribution)
    pooled_prob = p_control
    se = np.sqrt(2 * pooled_prob * (1 - pooled_prob) / n)
    
    # MDE is the minimum detectable effect
    mde = z_alpha * se + z_beta * se
    
    return mde

# Define parameters
power_values = [0.7, 0.8, 0.9]
alpha = 0.05
beta = 0.2
n_values = np.arange(1, 30)

# All plots in one figure
fig, ax = plt.subplots(figsize=(10, 6))

# Iterate over power values and plot
for power in power_values:
    mde_values = [calculate_mde(alpha, 1 - power, n) for n in n_values]
    ax.plot(n_values, mde_values, label=f'Power = {power}')

# Plot settings
ax.set_title("MDE vs. Number of Observations")
ax.set_xlabel("Number of Observations")
ax.set_ylabel("MDE")
ax.grid(True)
ax.legend()

plt.show()
```

## –Ø–∫ –ø—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ MDE?

–Ø–∫—â–æ $p$-value –≤–∏—â–µ —Ä—ñ–≤–Ω—è $\alpha$, —Ç–æ —Ü–µ –Ω–µ –æ–∑–Ω–∞—á–∞—î –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –µ—Ñ–µ–∫—Ç—É. –ï—Ñ–µ–∫—Ç –º–æ–∂–µ —ñ —î, –∞–ª–µ –≤—ñ–Ω —Ç–æ—á–Ω–æ –Ω–µ –±—ñ–ª—å—à–∏–π, –Ω—ñ–∂ MDE –¥–ª—è $\alpha$, $\beta$ —ñ –¥–∏—Å–ø–µ—Ä—Å—ñ—ó.

\

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î—Ç–µ 14-–π –¥–µ–Ω—å –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É, MDE –Ω–∞ —Ä—ñ–≤–Ω—ñ 1%, $p$-value –≤–∏—â–µ —Ä—ñ–≤–Ω—è $\alpha$. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —è–∫—â–æ –≤–∏ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–µ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —ñ –ø–æ–±–∞—á–∏—Ç–µ –∑–Ω–∞—á—É—â—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É, —Ç–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –µ—Ñ–µ–∫—Ç—É, —â–æ $\leq$ 1%.

\

–ü—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —á–∏ –Ω—ñ, –º–æ–∂–Ω–∞ –±–µ—Ä—É—á–∏ –¥–æ —É–≤–∞–≥–∏ MDE.

## –°–∏–º—É–ª—è—Ü—ñ—è A/B-—Ç–µ—Å—Ç—É

**CR A**: 0.25, **CR B**: 0.2875, Power = 0.8, $\alpha$ = 0.05

```{python}
#| echo: false
#| label: ab-test-simulation-1
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm
from statsmodels.stats.power import zt_ind_solve_power

np.random.seed(42)
# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
CR_a = 0.25  # –ö–æ–Ω–≤–µ—Ä—Å—ñ—è –≤ –≥—Ä—É–ø—ñ A
CR_b = 0.2875  # –ö–æ–Ω–≤–µ—Ä—Å—ñ—è –≤ –≥—Ä—É–ø—ñ B
alpha = 0.05  # –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ
power = 0.8  # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—É

# –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –µ—Ñ–µ–∫—Ç—É (—Ä—ñ–∑–Ω–∏—Ü—è –≤ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è—Ö)
effect_size = CR_b - CR_a

# –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç—É (fixed horizon) - –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ
sample_size = zt_ind_solve_power(effect_size=(CR_b - CR_a) / np.sqrt(CR_a * (1 - CR_a)),
                                 alpha=alpha, power=power, alternative='two-sided')

# –î—ñ–∞–ø–∞–∑–æ–Ω –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å
n_obs = np.arange(100, int(sample_size * 2), 100)

# –°–∏–º—É–ª—è—Ü—ñ—è —Ç–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è p-–∑–Ω–∞—á–µ–Ω—å
p_values = []

for n in n_obs:
    # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–Ω–≤–µ—Ä—Å—ñ–π –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏
    successes_a = np.random.binomial(n, CR_a)
    successes_b = np.random.binomial(n, CR_b)

    # –û–±—á–∏—Å–ª–µ–Ω–Ω—è –ø–æ—î–¥–Ω–∞–Ω–æ—ó –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –ø–æ—Ö–∏–±–∫–∏
    pooled_prob = (successes_a + successes_b) / (2 * n)
    std_error = np.sqrt(pooled_prob * (1 - pooled_prob) * (2 / n))

    # Z-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    z_score = (successes_b / n - successes_a / n) / std_error

    # –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ p-–∑–Ω–∞—á–µ–Ω–Ω—è
    p_value = 1 - 2 * (1 - norm.cdf(np.abs(z_score)))  # –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π —Ç–µ—Å—Ç
    p_values.append(p_value)

# –ü–æ–±—É–¥–æ–≤–∞ –≥—Ä–∞—Ñ—ñ–∫–∞
plt.figure(figsize=(10, 6))
plt.plot(n_obs, p_values, label="1 - p-value vs Observations")
plt.axhline(y=1 - alpha, color='red', linestyle='--', label=f'Alpha = {alpha}')
plt.axvline(x=sample_size, color='blue', linestyle='--', label=f'Fixed Horizon (n = {int(sample_size)})')
plt.title("p-value vs Number of Observations in A/B Test")
plt.xlabel("Number of Observations (n)")
plt.ylabel("1 - p-value")
plt.legend()
plt.grid(True)
plt.show()
```

## –°–∏–º—É–ª—è—Ü—ñ—è A/B-—Ç–µ—Å—Ç—É

**CR A**: 0.25, **CR B**: 0.26, Power = 0.8, $\alpha$ = 0.05

```{python}
#| echo: false
#| label: ab-test-simulation-2
#| fig-align: center

import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm
from statsmodels.stats.power import zt_ind_solve_power


np.random.seed(2024)
# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
CR_a = 0.25  # –ö–æ–Ω–≤–µ—Ä—Å—ñ—è –≤ –≥—Ä—É–ø—ñ A
CR_b = 0.26  # –ö–æ–Ω–≤–µ—Ä—Å—ñ—è –≤ –≥—Ä—É–ø—ñ B
alpha = 0.05  # –†—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ
power = 0.8  # –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—É

# –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –µ—Ñ–µ–∫—Ç—É (—Ä—ñ–∑–Ω–∏—Ü—è –≤ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è—Ö)
effect_size = CR_b - CR_a

# –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç—É (fixed horizon) - –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ
sample_size = 2093

# –î—ñ–∞–ø–∞–∑–æ–Ω –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å
n_obs = np.arange(100, 4000, 100)

# –°–∏–º—É–ª—è—Ü—ñ—è —Ç–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è p-–∑–Ω–∞—á–µ–Ω—å
p_values = []

for n in n_obs:
    # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–Ω–≤–µ—Ä—Å—ñ–π –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏
    successes_a = np.random.binomial(n, CR_a)
    successes_b = np.random.binomial(n, CR_b)

    # –û–±—á–∏—Å–ª–µ–Ω–Ω—è –ø–æ—î–¥–Ω–∞–Ω–æ—ó –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –ø–æ—Ö–∏–±–∫–∏
    pooled_prob = (successes_a + successes_b) / (2 * n)
    std_error = np.sqrt(pooled_prob * (1 - pooled_prob) * (2 / n))

    # Z-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    z_score = (successes_b / n - successes_a / n) / std_error

    # –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ p-–∑–Ω–∞—á–µ–Ω–Ω—è
    p_value = 1 - 2 * (1 - norm.cdf(np.abs(z_score)))  # –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π —Ç–µ—Å—Ç
    p_values.append(p_value)

# –ü–æ–±—É–¥–æ–≤–∞ –≥—Ä–∞—Ñ—ñ–∫–∞
plt.figure(figsize=(10, 6))
plt.plot(n_obs, p_values, label="1 - p-value vs Observations")
plt.axhline(y=1 - alpha, color='red', linestyle='--', label=f'Alpha = {alpha}')
plt.axvline(x=sample_size, color='blue', linestyle='--', label=f'Fixed Horizon (n = {int(sample_size)})')
plt.title("p-value vs Number of Observations in A/B Test")
plt.xlabel("Number of Observations (n)")
plt.ylabel("1 - p-value")
plt.legend()
plt.grid(True)
plt.show()
```

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

1. [{{< iconify devicon googlecolab >}} –ê–Ω–∞–ª—ñ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å, —Ä–æ–∑–º—ñ—Ä—É –µ—Ñ–µ–∫—Ç—É —Ç–∞ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤](https://colab.research.google.com/drive/1QKbvIGkXpaux81XIdmf6Wj_IMwRWvSAd)
2. [üîó Sample Size Calculator](https://www.evanmiller.org/ab-testing/sample-size.html)




# –î—è–∫—É—é –∑–∞ —É–≤–∞–≥—É! {.unnumbered .unlisted background-iframe=".02_files/libs/colored-particles/index.html"}

<br> <br>

{{< iconify solar book-bold >}} [–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∫—É—Ä—Å—É](https://aranaur.rbind.io/lectures/applied_analytics/)

{{< iconify mdi envelope >}} ihor.miroshnychenko\@knu.ua

{{< iconify ic baseline-telegram >}} [Data Mirosh](https://t.me/araprof)

{{< iconify mdi linkedin >}} [\@ihormiroshnychenko](https://www.linkedin.com/in/ihormiroshnychenko/)

{{< iconify mdi github >}} [\@aranaur](https://github.com/Aranaur)

{{< iconify ion home >}} [aranaur.rbind.io](https://aranaur.rbind.io)
