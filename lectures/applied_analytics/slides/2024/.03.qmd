---
title: "–ú–Ω–æ–∂–∏–Ω–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥—ñ–ø–æ—Ç–µ–∑ + –ë—É—Å—Ç—Ä–µ–ø + –ë–∞–∫–µ—Ç—É–≤–∞–Ω–Ω—è + –ê–ê"
subtitle: "–ü—Ä–∏–∫–ª–∞–¥–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ IT"
author: "–Ü–≥–æ—Ä –ú—ñ—Ä–æ—à–Ω–∏—á–µ–Ω–∫–æ"
institute: –ö–ù–£ —ñ–º–µ–Ω—ñ –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞, –§–Ü–¢
from: markdown+emoji
title-slide-attributes:
    data-background-iframe: .03_files/libs/colored-particles/index.html
language: _language-ua.yml
footer: <a href="https://aranaur.rbind.io/lectures/applied_analytics/">üîó–ü—Ä–∏–∫–ª–∞–¥–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ IT</a>
format:
  revealjs: 
    # center: true
    navigation-mode: vertical
    transition: fade
    background-transition: fade
    # controls-layout: bottom-right
    chalkboard: true
    logo: fit.png
    slide-number: true
    toc: false
    toc-depth: 1
    mouse-wheel: true
    width: 1350  
    height: 759.375
    highlight-style: github
    # fig-width: 9
    # fig-height: 5
    fig-format: svg
    theme: [default, custom.scss]
    mermaid:
      theme: forest
  # gfm:
  #   mermaid-format: png
preload-iframes: true
jupyter: python3
execute: 
  echo: true
  warning: false
editor_options: 
  chunk_output_type: console

revealjs-plugins:
  - verticator
---

```{python}
#| label: setup
#| include: false

# Import libraries
import numpy as np
import pandas as pd
import hashlib
import matplotlib.pyplot as plt
import seaborn as sns

from IPython.display import Markdown
from tabulate import tabulate

# Set seaborn default style
sns.set_style('whitegrid')
sns.set_palette('colorblind')

# Define colors
red_pink   = "#e64173"
turquoise  = "#20B2AA"
orange     = "#FFA500"
red        = "#fb6107"
blue       = "#181485"
navy       = "#150E37FF"
green      = "#8bb174"
yellow     = "#D8BD44"
# grey_light = "grey70"
# grey_mid   = "grey50"
# grey_dark  = "grey20"
purple     = "#6A5ACD"
slate      = "#314f4f"
```

# –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –≥—ñ–ø–æ—Ç–µ–∑–∏?  {background-iframe=".03_files/libs/colored-particles/index.html"}

---

–ê–Ω–∞–ª—ñ—Ç–∏–∫—É –ê—Ä—Ç—É—Ä—É –¥—ñ—Å—Ç–∞–ª–∏—Å—è –≤ —Ä—É–∫–∏ –Ω–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ A/B-—Ç–µ—Å—Ç—É. –ú–µ–Ω–µ–¥–∂–µ—Ä –°–≤—è—Ç–æ—Å–ª–∞–≤ —Ç–µ—Å—Ç—É–≤–∞–≤ –≤–ø–ª–∏–≤ –ø—Ä–æ–º–æ-–ø—É—à—ñ–≤ –¥–æ–¥–∞—Ç–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—ñ—Ü–∏. –í—ñ–Ω –≤–∏–¥—ñ–ª–∏–≤ —Ç—Ä–∏ –∫–æ–≥–æ—Ä—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤: –ø–µ—Ä—à–∞ - –∫–æ–Ω—Ç—Ä–æ–ª—å, –¥—Ä—É–≥—ñ–π –≤—ñ–¥–ø—Ä–∞–≤–∏–≤ –ø—É—à –Ω–∞ –∑–Ω–∏–∂–∫—É 30%, —Ç—Ä–µ—Ç—ñ–π –≤—ñ–¥–ø—Ä–∞–≤–∏–≤ –ø—É—à –Ω–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É –ø—ñ—Ü—É –¥–æ 35 —Å–º –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ –¥–≤–æ—Ö –ø—ñ—Ü.

\

:::: {.columns}

::: {.column width="33%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
–ö–æ–Ω—Ç—Ä–æ–ª—å </center>
:::

::: {.column width="33%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
-30% </center>
:::

::: {.column width="34%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
2+1 </center>
:::

::::

\

–ü–∏—Ç–∞–Ω–Ω—è, —Ö—Ç–æ –Ω–∞ 3 –º—ñ—Å—è—Ü—å –ø—Ä–∏–Ω–µ—Å–µ –±—ñ–ª—å—à–µ –≥—Ä–æ—à–µ–π?

## –ü—Ä–æ–±–ª–µ–º–∞ 1

–†—ñ–≤–µ–Ω—å False Positive –∑—Ä–æ—Å—Ç–∞—î –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ $1-(1-\alpha)^m$

\ 

–¥–µ $\alpha$ - —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, $m$ - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—ñ–ø–æ—Ç–µ–∑

---

–Ø–∫—â–æ –∫–æ—Ä–æ—Ç–∫–æ, –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –ø—ñ–¥ —á–∞—Å –æ–¥–Ω–æ—á–∞—Å–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≥—ñ–ø–æ—Ç–µ–∑ –Ω–∞ —Ç–æ–º—É —Å–∞–º–æ–º—É –Ω–∞–±–æ—Ä—ñ –¥–∞–Ω–∏—Ö –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –∑—Ä–æ–±–∏—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫ —â–æ–¥–æ —Ö–æ—á–∞ –± –æ–¥–Ω—ñ—î—ó –∑ —Ü–∏—Ö –≥—ñ–ø–æ—Ç–µ–∑ –∑–Ω–∞—á–Ω–æ –ø–µ—Ä–µ–≤–∏—â—É—î –ø–æ—á–∞—Ç–∫–æ–≤–æ –ø—Ä–∏–π–Ω—è—Ç–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ.

\

:::: {.columns}

::: {.column width="33%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
–ö–æ–Ω—Ç—Ä–æ–ª—å </center>
:::

::: {.column width="33%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
-30% </center>
:::

::: {.column width="34%"}
<center>{{< iconify noto-v1 pizza size=LARGE >}} \
2+1 </center>
:::

::::

---

–Ø–∫—â–æ –∑—Ä–æ–±–∏—Ç–∏ $N$ —Ç–µ—Å—Ç—ñ–≤, —Ç–æ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –ø—Ä–∏–ø—É—Å—Ç–∏—Ç–∏—Å—è —Ö–æ—á–∞ –± –æ–¥–Ω—ñ—î—ó –ø–æ–º–∏–ª–∫–∏ I —Ä–æ–¥—É –≤ –≥—Ä—É–ø—ñ —Ç–µ—Å—Ç—ñ–≤ (*family-wise error rate*, FWER) –∑–Ω–∞—á–Ω–æ –∑—Ä–æ—Å—Ç–∞—î –∑–≥—ñ–¥–Ω–æ –∑ —Ñ–æ—Ä–º—É–ª–æ—é

$$1 - (1 - \alpha)^m$$

–¥–µ $\alpha$ - —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, $m$ - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—ñ–ø–æ—Ç–µ–∑.

\

–£ –≤–∏–ø–∞–¥–∫—É –∑ 3 –∫–æ–≥–æ—Ä—Ç–∞–º–∏ —É –Ω–∞—Å 3 –ø–æ–ø–∞—Ä–Ω–∏—Ö —Ä—ñ–≤–Ω—è–Ω–Ω—è, —Ç–æ–±—Ç–æ –º–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ 3 –≥—ñ–ø–æ—Ç–µ–∑–∏: **A/B**, **A/C**, **B/C**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∑–∞ —Ä—ñ–≤–Ω—è –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ 95%, $\alpha$ –±—É–¥–µ

$$1 - (1 - 0.05)^3 = 0.142$$

---

![](img/mayer.jpg)

---

–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ —Ç–µ—Å—Ç –Ω–µ –ø–æ–º–∏–ª–∏—Ç—å—Å—è –¥–æ—Ä—ñ–≤–Ω—é—î

$$0.95^{41} = 0.12$$

\

–ê–±–æ, —è–∫—â–æ –≤—ñ–Ω –ø–æ–º–∏–ª–∏—Ç—å—Å—è —Ö–æ—á–∞ –± 1 —Ä–∞–∑

$$1 - 0.95^{41} = 0.88$$

---

::: {.columns .smaller}

::: {.column width="50%"}
–ú–æ–∂–Ω–∞ –∑–∞–¥–µ—Ä—Ç–∏ —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ, —ñ –∑–∞ 10 –≥—ñ–ø–æ—Ç–µ–∑ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∞–∫—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (–∑–∞ —Ä—ñ–∑–Ω–∏—Ö –∞–ª—å—Ñ–∞):

\

$$
95\% = 1 - (1 - 0.05)^{10} = 0.401 \\
99\% = 1 - (1 - 0.01)^{10} = 0.095 \\
99.5\% = 1 - (1 - 0.005)^{10} = 0.095 \\
99.9\% = 1 - (1 - 0.001)^{10} = 0.01
$$

–¢–æ–±—Ç–æ –¥–ª—è $\alpha = 0.05$ –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ 40% –ø–æ–º–∏–ª–∫—É, –∞ –∑–æ–≤—Å—ñ–º –Ω–µ 5%, —è–∫ –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –∑–∞–¥–∞—î—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
:::

::: {.column width="50%"}

```{python}
#| echo: false
#| label: fwer-vs-m

import numpy as np
import matplotlib.pyplot as plt

m = np.arange(1, 201)
alpha = 0.05
fwer = 1 - (1 - alpha)**m

plt.plot(m, fwer)
plt.xlabel("–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥—ñ–ø–æ—Ç–µ–∑")
plt.ylabel("$P = 1 - (1 - \\alpha)^m$")
plt.title("–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –≤—ñ–¥—Ö–∏–ª–µ–Ω—å –≤—ñ–¥ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —Å—ñ–º–µ–π—Å—Ç–≤–∞ –≥—ñ–ø–æ—Ç–µ–∑")

plt.show()
```

:::

:::

## –ü—Ä–æ–±–ª–µ–º–∞ 2

\

–©–æ –±—ñ–ª—å—à–µ –≥—ñ–ø–æ—Ç–µ–∑ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç, —Ç–æ —Å–∫–ª–∞–¥–Ω—ñ—à–µ –ø—Ä–æ—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ

---

¬´–£ –≤–∞—Å —î –º–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è —ñ –¥–µ—Å–∫—Ç–æ–ø–Ω–∞, 50 –∫—Ä–∞—ó–Ω, –ø—Ä–∏–±–ª–∏–∑–Ω–æ 20 –∑–Ω–∞—á—É—â–∏—Ö –¥–∂–µ—Ä–µ–ª —Ä–µ—Ñ–µ—Ä—Ä–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ—ñ–∫—É (–ø–æ—à—É–∫ Google, –ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–æ—â–æ). –£—Å—å–æ–≥–æ –≤–∏—Ö–æ–¥–∏—Ç—å $2 \times 50 \times 20 = 2000$ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤. –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —â–æ –∫–æ–∂–µ–Ω —Å–µ–≥–º–µ–Ω—Ç —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π –∫–æ–∂–Ω–æ–º—É —ñ–Ω—à–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É. –Ø–∫—â–æ —Å–µ–≥–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ, –≤–∏–π–¥–µ $0,05 \times 2000 = 100$ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –∑–Ω–∞—á—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —á–∏—Å—Ç–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ. –¢–∞–∫ –∑–±—ñ–≥–ª–æ—Å—è, —â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ Android –∑ –ö–µ–Ω—Ç—É–∫–∫—ñ, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ñ Google, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ iPhone, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ñ jzyQvfh8z, —ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ, —è–∫—ñ –∑–∞–π—à–ª–∏ —á–µ—Ä–µ–∑ –ü–ö —É –ù—å—é-–î–∂–µ—Ä—Å—ñ, –≤–∏–±—Ä–∞–ª–∏ —Ä–µ–¥–∏–∑–∞–π–Ω. –î–∏–≤–æ–≤–∏–∂–Ω–æ!¬ª

---

–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π, –∞–ª–µ –Ω–∞–π–∂–æ—Ä—Å—Ç–∫—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –∫–æ—Ä–µ–∫—Ü—ñ—ó –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö —Ä—ñ–≤–Ω—è–Ω—å --- **–ü–æ–ø—Ä–∞–≤–∫–∞ –ë–æ–Ω—Ñ–µ—Ä–æ–Ω–Ω—ñ**. –ó–Ω–∞—é—á–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤, –º–æ–∂–Ω–∞ –æ–±—á–∏—Å–ª–∏—Ç–∏ —Å–∫–æ—Ä–∏–≥–æ–≤–∞–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ

$$\alpha_{\text{—Å–∫–æ—Ä.}} = \frac{\alpha}{m}$$

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –≤ –≥—Ä—É–ø—ñ –∑ 10 —Ç–µ—Å—Ç—ñ–≤ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–∫–∏ I —Ä–æ–¥—É 0.05, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –∫–æ–∂–µ–Ω —Ç–µ—Å—Ç –∑–∞ $\alpha = 0.005$.

[–ü—Ä–∏ —Ü—å–æ–º—É —Ä—ñ–∑–∫–æ –∑—Ä–æ—Å—Ç–∞—î –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –Ω–µ –∑–Ω–∞–π—Ç–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π —Ç–∞–º, –¥–µ –≤–æ–Ω–∏ —î.]{.attn}

---

–î–ª—è –≤–∏–ø–∞–¥–∫—ñ–≤, –∫–æ–ª–∏ –Ω–∞–º –≤–∞–∂–ª–∏–≤—ñ—à–µ –∑–±–µ—Ä–µ–≥—Ç–∏ —ñ—Å—Ç–∏–Ω–Ω–æ-–ø–æ–∑–∏—Ç–∏–≤–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏, –Ω—ñ–∂ –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç–∏ —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö --- –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å *False Discovery Rate*:

**FP / (FP + TP)**

\ 

–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é FDR –º–∏ –∑–∞–¥–∞—î–º–æ –Ω–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ –ø–µ—Ä—à–æ–≥–æ —Ä–æ–¥—É –≤ –ø—Ä–∏–Ω—Ü–∏–ø—ñ, –∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å *—Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö (fp) —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –≤—ñ–¥–Ω–æ—Å–Ω–æ –¥–æ —ñ—Å—Ç–∏–Ω–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö (tp) —ñ —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö (fp)* (–¥–∞–ª—ñ —Ü–µ —á–∏—Å–ª–æ –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ $\gamma$).

–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é FDR –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **–ø–æ–ø—Ä–∞–≤–∫–∞ –ë–µ–Ω–¥–∂–∞–º—ñ–Ω—ñ-–•–æ—Ö–±–µ—Ä–≥–∞**

---

–ù–∞–≤—ñ—â–æ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –≤—Å—ñ —Ü—ñ –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ?

---

```{mermaid}
%%| echo: false
%%| fig-align: center

flowchart TB
    A["`1000 A/B-—Ç–µ—Å—Ç—ñ–≤`"] --> |"`30% —Ç–µ—Å—Ç—ñ–≤ –º–∞—é—Ç—å
    –¥–∞—Ç–∏ –µ—Ñ–µ–∫—Ç &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 30%`"| B["`–Ñ –µ—Ñ–µ–∫—Ç
    —É 300`"]
    A --> |"`70%`"| C["`–ù–µ –º–∞—î –µ—Ñ–µ–∫—Ç—É
    —É 700`"]
    B --> |"`power = 35% &nbsp&nbsp&nbsp&nbsp 35%`"| D["`105 —Ç–µ—Å—Ç—ñ–≤
    –≤–∏—è–≤–∏–ª–∏
    –µ—Ñ–µ–∫—Ç (TP)`"]
    B --> |"`65%`"| E["`195 —Ç–µ—Å—Ç—ñ–≤
    –Ω–µ –≤–∏—è–≤–∏–ª–∏
    –µ—Ñ–µ–∫—Ç (FN)`"]
    C --> |"`95%`"| F["`665 —Ç–µ—Å—Ç—ñ–≤ –Ω–µ
    –∑–Ω–∞—á—É—â—ñ (TN)`"]
    C --> |"`5%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspŒ± = 5%`"| G["`35 —Ç–µ—Å—Ç—ñ–≤
    —î –∑–Ω–∞—á—É—â–∏–º–∏ (FP)`"]
    subgraph ide1 [p < Œ±&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp]
    D
    end
    subgraph ide2 [p < Œ±&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp]
    G
    end

    style ide1 fill:#fff,stroke:#333,stroke-width:2px
    style ide2 fill:#fff,stroke:#333,stroke-width:2px

```

. . . 

::: {.border .tiny}
35 –∑ 140 (35 + 105) –∑–Ω–∞—á—É—â–∏—Ö —Ç–µ—Å—Ç—ñ–≤ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–æ–º–∏–ª–∫–æ–≤–æ –∑–Ω–∞—á—É—â—ñ, –∞ 105 –∑—ñ 140 "–ø—Ä–æ—Ñ–∞—Ä–±—É–≤–∞–ª–∏—Å—å" –≤—ñ—Ä–Ω–æ.

**False Descovery Rate (FDR) = 35 / 140 = 0.25**
:::

## –ü–æ–ø—Ä–∞–≤–∫–∞ –ë–µ–Ω–¥–∂–∞–º—ñ–Ω—ñ-–•–æ—Ö–±–µ—Ä–≥–∞

–©–æ–± –∑–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ $FDR < \gamma$ ($\gamma$ --- —Ä—ñ–≤–µ–Ω—å FDR, –∑–∞–∑–≤–∏—á–∞–π –±–µ—Ä—É—Ç—å 0.1 = 10%):

1. –°–æ—Ä—Ç—É—î–º–æ –≤ –ø–æ—Ä—è–¥–∫—É –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è $N$ $p$-–∑–Ω–∞—á–µ–Ω—å, –æ—Ç—Ä–∏–º–∞–Ω—ñ —É —Ç–µ—Å—Ç–∞—Ö, —ñ –ø—Ä–∏—Å–≤–æ—é—î–º–æ —ó–º —Ä–∞–Ω–≥–∏ $j$ –≤—ñ–¥ 1 –¥–æ $N$: $$p_1 \leq p_2 \leq \ldots \leq p_N$$
2. –ó–Ω–∞—Ö–æ–¥–∏–º–æ $p$-–∑–Ω–∞—á–µ–Ω–Ω—è –∑ –Ω–∞–π–±—ñ–ª—å—à–∏–º —Ä–∞–Ω–≥–æ–º $j^*$, —Ç–∞–∫–µ —â–æ–± $$p_j \leq \gamma(j/N)$$
3. –£—Å—ñ —Ç–µ—Å—Ç–∏ –∑ —Ä–∞–Ω–≥–∞–º–∏ $j$ –º–µ–Ω—à–∏–º–∏ –∑–∞ $j^*$ –≤–≤–∞–∂–∞—î–º–æ –∑–Ω–∞—á—É—â–∏–º–∏.

\

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ—Å—Ç—É –º–æ–∂–Ω–∞ –æ–±—á–∏—Å–ª–∏—Ç–∏ $q$ --- –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è FDR, –∑–∞ —è–∫–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç—É –º–æ–∂–Ω–∞ –≤–≤–∞–∂–∞—Ç–∏ –∑–Ω–∞—á—É—â–∏–º.

---

::: {.smaller}

–£—Å—å–æ–≥–æ $N = 5$ —Ç–µ—Å—Ç—ñ–≤. –ß–∞—Å—Ç–æ—Ç–∞ —Ö–∏–±–Ω–æ–ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ FDR = 0.1. –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ $q$ —ñ $Œ±$.

| –†–∞–Ω–≥ $j$ | $p$ | $p^{*} = \gamma (j / N)$ | –†—ñ—à–µ–Ω–Ω—è |
|----------|-----|---------------------------------|---------|
| 1        | 0.005 | 0.1 * 1/5 = 0.02 | –í—ñ–¥–∫–∏–¥–∞—î–º–æ $H_0$ |
| 2        | 0.011 | 0.1 * 2/5 = 0.04 | –í—ñ–¥–∫–∏–¥–∞—î–º–æ $H_0$ |
| 3        | 0.02 | 0.1 * 3/5 = 0.06 | –í—ñ–¥–∫–∏–¥–∞—î–º–æ $H_0$ |
| 4        | 0.04 | 0.1 * 4/5 = 0.08 | –í—ñ–¥–∫–∏–¥–∞—î–º–æ $H_0$ |
| 5        | 0.13 | 0.1 * 5/5 = 0.1 | –ù–µ –≤—ñ–¥–∫–∏–¥–∞—î–º–æ $H_0$ |

:::

---

**FWER —á–∏ FDR?**

- FDR (–∑–∞–∑–≤–∏—á–∞–π FDR < 0.1): –í–∏—â–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —ñ –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–Ω—å
- FWER (–∑–∞–∑–≤–∏—á–∞–π FWER < 0.05): —Å—É–≤–æ—Ä–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—é –ø–æ–º–∏–ª–æ–∫ –ø–µ—Ä—à–æ–≥–æ —Ä–æ–¥—É

\

**–û—Å–Ω–æ–≤–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫**
FDR –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∏—Ö —Ä–µ–∞–ª—ñ–π —î –±—ñ–ª—å—à –∫–æ—Ä–∏—Å–Ω–æ—é –º–µ—Ç—Ä–∏–∫–æ—é –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é, —Ç–æ–º—É —â–æ –Ω–∞–º –±–∏ –Ω–µ —Ö–æ—Ç—ñ–ª–æ—Å—è –≤–∏–∫–æ—á—É–≤–∞—Ç–∏ –Ω–µ—Ä–æ–±–æ—á—ñ –∑–º—ñ–Ω–∏ (–∫–æ–ª–∏ –º–∏ –≥–æ–≤–æ—Ä–∏–º–æ, —â–æ –≤–æ–Ω–∏ —Ä–æ–±–æ—á—ñ), –∞ –Ω–∞–≤–ø–∞–∫–∏, –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö –µ—Ñ–µ–∫—Ç–∞—Ö.

## –ú–æ—Ä–∞—Ç–æ—Ä—ñ–π –Ω–∞ –º–Ω–æ–∂–∏–Ω–Ω—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

–£ –¥–µ—è–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∏—Ö –∫–æ–º–ø–∞–Ω—ñ—è—Ö –ø—Ä–∏–π–Ω—è—Ç–æ –º–æ—Ä–∞—Ç–æ—Ä—ñ–π –Ω–∞ –º–Ω–æ–∂–∏–Ω–Ω—ñ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ —á–µ—Ä–µ–∑ —É–∂–µ –æ–∑–≤—É—á–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:

1. —Å–∫–ª–∞–¥–Ω–∞ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è
2. –∑—Ä–æ—Å—Ç–∞—é—á–∏–π false positive

–Ø–∫—â–æ –º–æ–∂–Ω–∞ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –º–Ω–æ–∂–∏–Ω–Ω–∏–π —Ç–µ—Å—Ç, —Ç–æ –∫—Ä–∞—â–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —Ç–∞–∫–æ—é –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é

## Fixed Horizon

–Ø–∫ –º–∞—î –±—É—Ç–∏

```{mermaid}
%%| echo: false
%%| fig-align: center

flowchart LR
    A[–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ N] --> B[–ó–±—ñ—Ä N]
    B --> C{p-–∑–Ω–∞—á–µ–Ω–Ω—è < Œ±?}
    C --> |–¢–∞–∫| D[–í—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É]
    C --> |–ù—ñ| E[–ù–µ –≤—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É]
```

## Fixed Horizon

–Ø–∫ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ

```{mermaid}
%%| echo: false
%%| fig-align: center

flowchart LR
    A[–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ N] --> B[–ó–±—ñ—Ä N]
    B --> C{p-–∑–Ω–∞—á–µ–Ω–Ω—è < Œ±?}
    C --> |–¢–∞–∫| D[–í—ñ–¥–∫–∏–¥–∞—î–º–æ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É]
    C --> |–ù—ñ| B
```

## –í–∏—Å–Ω–æ–≤–∫–∏

- –ü—ñ–¥—Ö—ñ–¥ Fixed horizon –±–ª–∏–∑—å–∫–∏–π –¥–æ –º–µ–¥–∏—á–Ω–∏—Ö –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å, –¥–µ –±—é–¥–∂–µ—Ç –≤–∏–∑–Ω–∞—á–∞—î –¥–æ–ø—É—Å—Ç–∏–º—É –≤–∏–±—ñ—Ä–∫—É –Ω–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç
- –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª–æ–∂–µ–Ω–Ω—è —â–æ–¥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤–∏–±—ñ—Ä–∫–∏ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–æ–±–æ—Ç–∞—Ö J. Cohen'–∞ –≤ 1988 [^cohen].
- –û–¥–Ω–æ–≥–æ —Ä–∞–∑—É –∑–∞—Å—Ç–æ—Å—É–≤–∞–≤—à–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π, —ñ –ø—Ä–∏–π–Ω—è–≤—à–∏ —Ç—É —á–∏ —ñ–Ω—à—É –≥—ñ–ø–æ—Ç–µ–∑—É, –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç, —â–æ–± –Ω–∞–±—Ä–∞—Ç–∏ –ø–æ–±—ñ–ª—å—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–µ —Ä–∞–∑, —Ç–æ–º—É —â–æ –∑–±—ñ–ª—å—à—É—î–º–æ FDR.

[^cohen]: Cohen, J. (1988). Statistical power analysis for the behavioral sciences. Hillsdale, NJ: Lawrence Erlbaum Associates.

# –ë—É—Ç—Å—Ç—Ä–∞–ø {.unnumbered .unlisted background-iframe=".03_files/libs/colored-particles/index.html"}

---

![](img/food.jpg){fig-align="center"}

–ö–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É: –î–æ–¥–∞–ª–∏ –Ω–æ–≤—É –≤—ñ—Ç—Ä–∏–Ω—É ¬´–í–∞—à—ñ –º–∏–Ω—É–ª—ñ –ø–æ–∫—É–ø–∫–∏¬ª –Ω–∞ —á–µ–∫–∞—É—Ç.

\

–ó–∞ –∫–ª–∞—Å–∏–∫–æ—é, –±—ñ–∑–Ω–µ—Å—É —Ü—ñ–∫–∞–≤–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —è–∫ –∑–º—ñ–Ω–∏–≤—Å—è —Å–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫

## –ü—Ä–∏–∫–ª–∞–¥: –∫–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É {.smaller}

```{python}
#| label: bootstrap-data
#| echo: false
#| fig-align: center

import seaborn as sns

# –≥–µ–Ω–µ—Ä—É—î–º–æ –¥–∞–Ω—ñ –∑ –ø—Ä–∞–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—é –∞—Å–∏–º–µ—Ç—Ä—ñ—î—é
np.random.seed(1234)
shape = 3
size = 1000
mean_c = 5253
mean_t = 5486

data_c = np.random.pareto(shape, 1000)
data_t = np.random.pareto(shape, 1000)

control = data_c * mean_c / np.mean(data_c)
test = data_t * mean_t / np.mean(data_t)

# plot data
fig, ax = plt.subplots(figsize=(10, 5))
sns.histplot(test, ax=ax, color=blue, label='$AVG_t$: {:.2f}'.format(np.mean(test)))
sns.histplot(control, ax=ax, color=red, label='$AVG_c$: {:.2f}'.format(np.mean(control)))
ax.legend()
ax.set_title('–†–æ–∑–ø–æ–¥—ñ–ª –¥–æ—Ö–æ–¥—É')
plt.xlim(0, 40000)
plt.show()
```

–ù–∞ –æ–∫–æ –∑–¥–∞—î—Ç—å—Å—è, —â–æ –≤ —Ç–µ—Å—Ç–æ–≤—ñ–π –≥—Ä—É–ø—ñ –º–∏ —Å—Ç–∞–ª–∏ –∑–∞—Ä–æ–±–ª—è—Ç–∏ –±—ñ–ª—å—à–µ. 

–ê–ª–µ –±—ñ–∑–Ω–µ—Å—É –∑–∞—Ö–æ—á–µ—Ç—å—Å—è –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —á–∏–º –ø–æ—è—Å–Ω—é—î—Ç—å—Å—è —Ü—è –º—ñ–Ω–ª–∏–≤—ñ—Å—Ç—å (—Ä—ñ–∑–Ω–∏—Ü—è, —è–∫—É –º–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î–º–æ), –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ —è–∫–æ—ó –∞—É–¥–∏—Ç–æ—Ä—ñ—ó –¥–æ—Å—è–≥–ª–∏ –µ—Ñ–µ–∫—Ç—É?

## –ü—Ä–∏–∫–ª–∞–¥: –∫–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É {.smaller}

:::: columns

::: column

::: {.incremental}
- –©–æ –±—É–¥–µ –∫—Ä–∞—â–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—é? 
- –ú–µ–¥—ñ–∞–Ω–∞!
- –ß–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É –≥—Ä–∞–Ω–∏—á–Ω—É —Ç–µ–æ—Ä–µ–º—É –¥–ª—è —â–æ–± –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –î–Ü –¥–ª—è –º–µ–¥—ñ–∞–Ω–∏?
- –ù–∞ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç –Ω–µ –∑–º–æ–∂–µ–º–æ, —Ç–æ–º—É –ø–æ—Ç—Ä—ñ–±–µ–Ω —è–∫–∏–π—Å—å –º–µ—Ç–æ–¥ –¥–ª—è —Ü—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è
:::

:::

::: column

```{python}
#| label: bootstrap-data-question
#| echo: false
#| fig-align: center

fig, ax = plt.subplots(figsize=(10, 5))
sns.histplot(test, ax=ax, color=blue, label='$AVG_t$: {:.2f}'.format(np.mean(test)))
sns.histplot(control, ax=ax, color=red, label='$AVG_c$: {:.2f}'.format(np.mean(control)))
ax.legend()
ax.set_title('–†–æ–∑–ø–æ–¥—ñ–ª –¥–æ—Ö–æ–¥—É')
plt.xlim(0, 40000)
plt.show()
```
:::
::::

## –ë—É—Ç—Å—Ç—Ä–∞–ø

–ú–∞—é—á–∏ —Ç—ñ–ª—å–∫–∏ –¥–∞–Ω—ñ –∑–∞ –Ω–∞—è–≤–Ω–æ—é –≤–∏–±—ñ—Ä–∫–æ—é, —ñ—Å–Ω—É—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ—Ü—ñ–Ω–∏—Ç–∏ –±—É–¥—å-—è–∫–∏–π —ó—ó –ø–∞—Ä–∞–º–µ—Ç—Ä, –ø–æ–±—É–¥—É–≤–∞–≤—à–∏ **–µ–º–ø—ñ—Ä–∏—á–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –ø–∞—Ä–∞–º–µ—Ç—Ä–∞**.

–£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–∞—à–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –º–µ–¥—ñ–∞–Ω–æ—é - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª –º–µ–¥—ñ–∞–Ω —ñ –¥–∞–ª—ñ –∑–∞ –Ω–∏–º –æ–±—á–∏—Å–ª–∏—Ç–∏ –¥–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª:

–ê–ª–≥–æ—Ä–∏—Ç–º:

1. –°—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –ø—ñ–¥–≤–∏–±—ñ—Ä–∫–∏ –∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è–º–∏ –∑ –Ω–∞—è–≤–Ω–æ—ó –≤–∏–±—ñ—Ä–∫–∏ 
2. –û–±—á–∏—Å–ª–∏—Ç–∏ –º–µ–¥—ñ–∞–Ω—É –¥–ª—è –ø—ñ–¥–≤–∏–±—ñ—Ä–∫–∏
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ –∫—Ä–æ–∫–∏ 1-2 N —Ä–∞–∑—ñ–≤
4. –ü–æ–±—É–¥—É–≤–∞—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª –º–µ–¥—ñ–∞–Ω
5. –û–±—á–∏—Å–ª–∏—Ç–∏ –¥–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª

---

<iframe id="clt-example" src="https://seeing-theory.brown.edu/frequentist-inference/index.html#section3" style="border: none; width: 100%; height: 100%" frameborder="0">
</iframe>

## –ü—Ä–∏–∫–ª–∞–¥: –∫–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É {.smaller}

```{python}
#| label: bootstrap-median
#| fig-align: center
#| output-location: slide

# bootstrap
def bootstrap(data, n=9999):
    """Bootstrap function"""
    return np.random.choice(data, size=(n, len(data)), replace=True)

# bootstrap median
def bootstrap_median(data, n=9999):
    """Bootstrap median function"""
    return np.median(bootstrap(data, n), axis=1)

# bootstrap median for control and test
median_c = bootstrap_median(control)
median_t = bootstrap_median(test)

# plot data
fig, ax = plt.subplots(figsize=(10, 5))
sns.histplot(median_t, ax=ax, color=blue, label='–°–µ—Ä–µ–¥–Ω—î –≤–∏–±—ñ—Ä–∫–æ–≤–æ—ó –º–µ–¥—ñ–∞–Ω–∏ –¥–ª—è —Ç–µ—Å—Ç—É: {:.2f}'.format(np.mean(median_t)))
sns.histplot(median_c, ax=ax, color=red, label='–°–µ—Ä–µ–¥–Ω—î –≤–∏–±—ñ—Ä–∫–æ–≤–æ—ó –º–µ–¥—ñ–∞–Ω–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é: {:.2f}'.format(np.mean(median_c)))
ax.legend()
ax.set_title('–†–æ–∑–ø–æ–¥—ñ–ª –º–µ–¥—ñ–∞–Ω–∏ –¥–æ—Ö–æ–¥—É')
plt.show()
```

## –ü—Ä–∏–∫–ª–∞–¥: –∫–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É

–ú–µ–¥—ñ–∞–Ω–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `scipy`:

```{python}
#| label: bootstrap-median-scipy

from scipy.stats import bootstrap

# bootstrap median for control and test
median_c = bootstrap(data=(control,), statistic=np.median, confidence_level=0.95)
median_t = bootstrap(data=(test,), statistic=np.median, confidence_level=0.95)

print(f'–î–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ—ó –≥—Ä—É–ø–∏ = {median_c.confidence_interval}')
print(f'–î–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ—ó –≥—Ä—É–ø–∏ = {median_t.confidence_interval}')
```

## –ü—Ä–∏–∫–ª–∞–¥: –∫–µ–π—Å —ñ–∑ —Ñ—É–¥-—Ä–∏—Ç–µ–π–ª—É {.smaller}

–°–µ—Ä–µ–¥–Ω—î –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `scipy`:

```{python}
#| label: bootstrap-mean-scipy

from scipy.stats import bootstrap

# bootstrap median for control and test
mean_c = bootstrap(data=(control,), statistic=np.mean, confidence_level=0.95)
mean_t = bootstrap(data=(test,), statistic=np.mean, confidence_level=0.95)

print(f'–î–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ—ó –≥—Ä—É–ø–∏ = {mean_c.confidence_interval}')
print(f'–î–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ—ó –≥—Ä—É–ø–∏ = {mean_t.confidence_interval}')
```

–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–∑–ø–æ–¥—ñ–ª—É —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `scipy`:

```{python}
#| label: bootstrap-mean-scipy-plot
#| fig-align: center
#| output-location: column

# plot data
sns.histplot(mean_t.bootstrap_distribution)
plt.axvline(mean_t.confidence_interval[0], color='red', linestyle='--')
plt.axvline(mean_t.confidence_interval[1], color='red', linestyle='--')
plt.axvline(np.mean(test), color='blue', linestyle='--')
ax.set_title('–†–æ–∑–ø–æ–¥—ñ–ª —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –¥–æ—Ö–æ–¥—É')
plt.show()
```

## –ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏—á–Ω–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π? {.smaller}

- –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫—Ä–∏—Ç–µ—Ä—ñ–π –ú–∞–Ω–Ω–∞-–í—ñ—Ç–Ω—ñ –Ω–∞–π–∫—Ä–∞—â–µ –ø—ñ–¥—ñ–π–¥–µ –¥–ª—è –∑–∞–≤–¥–∞–Ω–Ω—è. –í—ñ–Ω –¥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —á–∏ –∑–Ω–∞—á—É—â–µ —Ä—ñ–∑–Ω—è—Ç—å—Å—è —Ä–æ–∑–ø–æ–¥—ñ–ª–∏, —á–∏ –Ω—ñ.

- –î–æ —Ç–æ–≥–æ –∂, —É –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä—ñ—é —Å–≤–æ—î –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫–µ –≤–∏–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –Ω–∏–∑–∫–∏ –ø—Ä–∏–ø—É—â–µ–Ω—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–¥–Ω–∞–∫–æ–≤–∞ –¥–∏—Å–ø–µ—Ä—Å—ñ—è/–æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –≤–∏–±—ñ—Ä–∫–∏/–æ–¥–Ω–∞–∫–æ–≤–∞ —Ñ–æ—Ä–º–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ–≤ —Ç–æ—â–æ). –¢–∞–∫–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–µ –∑–∞–≤–∂–¥–∏ —î.

```{python}
#| label: classic-test

from scipy.stats import mannwhitneyu

# mann-whitney test
stat, p = mannwhitneyu(control, test)
print('Statistics=%.3f, p=%.3f' % (stat, p))
```

## –ü—ñ–¥—Å—É–º–æ–∫ {.smaller}

- –ë—É—Ç—Å—Ç—Ä–∞–ø –¥–∞—î –∑–º–æ–≥—É –±—É–¥—É–≤–∞—Ç–∏ –¥–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—É, –Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—á–∏ –¥–ª—è —Ü—å–æ–≥–æ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—É —Ñ–æ—Ä–º—É–ª—É
- –û—Å–Ω–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤–∞–≥–∞ –ë—É—Ç—Å—Ç—Ä–∞–ø - –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≥—ñ–ø–æ—Ç–µ–∑–∏ –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∞–±–æ –º–æ–¥–µ–ª–µ–π: –ü–µ—Ä—Ü–µ–Ω—Ç–∏–ª—ñ/–ö–≤–∞–Ω—Ç–∏–ª—ñ/–î–µ—Ü–∏–ª—ñ —Ç–æ—â–æ.
- –ë—É—Ç—Å—Ç—Ä–∞–ø –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –≥—ñ–ø–æ—Ç–µ–∑–∏ –±–µ–∑ –æ–ø–æ—Ä–∏ –Ω–∞ –ø–µ–≤–Ω–∏–π —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –¥–∞–Ω–∏—Ö (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∫–ª–∞—Å–∏—á–Ω–∏—Ö —Å—Ç–∞—Ç. –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤)
- –ë—É—Ç—Å—Ç—Ä–∞–ø –¥–∞—î –∑–º–æ–≥—É –∑—Ä–æ–±–∏—Ç–∏ –æ—Ü—ñ–Ω–∫—É –±—É–¥—å-—è–∫–æ–≥–æ "—Å–∫–ª–∞–¥–Ω–æ–≥–æ" –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –¥–æ–≤—ñ—Ä—á–∏—Ö —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤ –¥–ª—è –Ω—å–æ–≥–æ. –ê –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—ñ–ø–æ—Ç–µ–∑ - —à–ª—è—Ö–æ–º –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —ó—Ö–Ω—å–æ—ó —Ä—ñ–∑–Ω–∏—Ü—ñ.

## –ì—ñ–ø–æ—Ç–µ–∑–∏ —ñ –±—É—Ç—Å—Ç—Ä–∞–ø

–ê–ª–≥–æ—Ä–∏—Ç–º:

1. –ë—É–¥—É—î—Ç–µ –±—É—Ç—Å—Ç—Ä–∞–ø-—Ä–æ–∑–ø–æ–¥—ñ–ª –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –ê —ñ –ë
2. –û–±—á–∏—Å–ª—é—î—Ç–µ —ó—Ö–Ω—é —Ä—ñ–∑–Ω–∏—Ü—é (–≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å)
3. –í –æ—Ç—Ä–∏–º–∞–Ω–æ–º—É —Ä–æ–∑–ø–æ–¥—ñ–ª—ñ —Ä—ñ–∑–Ω–∏—Ü—å —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –¥–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª
4. –Ø–∫—â–æ –¥–æ–≤—ñ—Ä—á–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –Ω–µ –º—ñ—Å—Ç–∏—Ç—å 0 - –≥—ñ–ø–æ—Ç–µ–∑–∞ –ø—Ä–æ —Ä—ñ–≤–Ω—ñ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –≤—ñ–¥—Ö–∏–ª—è—î—Ç—å—Å—è

---

![](img/boot.jpg){fig-align="center"}

::: footer
[{{< iconify devicon googlecolab >}} Google Colab: Bootstrap](https://colab.research.google.com/drive/1O5ou87RERt_2ML5vcaEepRgVtor7TY2S)
:::

# –ë–∞–∫–µ—Ç—É–≤–∞–Ω–Ω—è {.unnumbered .unlisted background-iframe=".03_files/libs/colored-particles/index.html"}

---

**–ü—Ä–æ–±–ª–µ–º–∞**

–î–ª—è –±—É—Ç—Å—Ç—Ä–∞–ø-–≤–∏–±—ñ—Ä–æ–∫ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–¥–∞–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä —Ç–∞–∫–∏–π —Å–∞–º–∏–π, —è–∫ —ñ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó –≤–∏–±—ñ—Ä–∫–∏: –∑–º—ñ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–ª–µ–∂–∞—Ç–∏–º–µ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –≤–∏–±—ñ—Ä–∫–∏. 

–Ø–∫—â–æ –º–∏ —Ö–æ—á–µ–º–æ –∞–ø—Ä–æ–∫—Å–∏–º—É–≤–∞—Ç–∏ —Ü—é –º—ñ–Ω–ª–∏–≤—ñ—Å—Ç—å, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ñ –≤–∏–±—ñ—Ä–∫–∏ –æ–¥–Ω–∞–∫–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É.

\

–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ ~1 –º–ª–Ω —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –ø—Ä–æ–±–ª–µ–º–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é –æ–±—á–∏—Å–ª–µ–Ω–Ω—è (–¥–æ–≤–≥–æ —á–µ–∫–∞—Ç–∏, –ø–æ–∫–∏ –ø–æ—Ä–∞—Ö—É—î—Ç—å—Å—è).

\

**–†—ñ—à–µ–Ω–Ω—è**
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ *–±–∞–∫–µ—Ç–∏* –Ω–∞ –≤—Ö—ñ–¥ –±—É—Ç—Å—Ç—Ä–∞–ø—É

---

::: {.tiny}

–†–æ–∑–ø–æ–¥—ñ–ª, —â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ, –º–æ–∂–Ω–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–µ—Ö–Ω—ñ–∫–∏ *–±–∞–∫–µ—Ç—ñ–≤*:

1. –†–∞–Ω–¥–æ–º–Ω–æ –ø—Ä–∏—Å–≤–æ—é—î–º–æ –Ω–æ–º–µ—Ä –≥—Ä—É–ø–∏ –≤—ñ–¥ B~1~ –¥–æ B~n~ (–¥–µ B~n~ = –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ —á–∏—Å–ª–æ –≥—Ä—É–ø, —è–∫—ñ –º–∏ —É—Å–µ—Ä–µ–¥–Ω–∏–º–æ, –Ω–∞–ø—Ä., 500)
2. –£—Å–µ—Ä–µ–¥–Ω—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –∫–æ–∂–Ω—ñ–π –≥—Ä—É–ø—ñ
3. –ó —É—Å–µ—Ä–µ–¥–Ω–µ–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å –æ—Ç—Ä–∏–º—É—î–º–æ —Ä–æ–∑–ø–æ–¥—ñ–ª, –±–ª–∏–∑—å–∫–∏–π –¥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ

![](img/bucket.jpg){fig-align="center"}

![](img/bucket-2.jpg){fig-align="center"}

:::

---

- –ó–∞ —Ç–∞–∫–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É–º–æ–≤–∞ –ø—Ä–æ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –∑–∞–≤–¥—è–∫–∏ —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ–º—É —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∑–∞ –±–∞–∫–µ—Ç–∞–º–∏ (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –±—É—Ç—Å—Ç—Ä–∞–ø–∞)
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–µ—Ç—Ä–∏–∫—É —É –≤–∏—Ö—ñ–¥–Ω—ñ–π –≤–∏–±—ñ—Ä—Ü—ñ –∑–∞ —ó—ó –º–µ–Ω—à–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É (–∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å): –¥–∏—Å–ø–µ—Ä—Å—ñ—è —ñ —Å–∞–º–∞ –º–µ—Ç—Ä–∏–∫–∞

$$\frac{s^2}{N} \approx \frac{s_b^2}{B}$$

- –ë–∞–∫–µ—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–µ, –∫–æ–ª–∏ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å –¥–æ—Å–∏—Ç—å –±–∞–≥–∞—Ç–æ (–Ω–∞–ø—Ä., > 1 –º–ª–Ω)

::: footer
[{{< iconify devicon googlecolab >}} Google Colab: Bucketing](https://colab.research.google.com/drive/1PTREi-HPvE1AyDxgEtMjNLKQX-WzL_yA)
:::

# A/A —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è {.unnumbered .unlisted background-iframe=".03_files/libs/colored-particles/index.html"}

## –î–ª—è —á–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ A/A —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è {.smaller}

–ü–µ—Ä–µ–≤–∞–∂–Ω–æ, –∑–∞–≤–¥–∞–Ω–Ω—è A/A —Ç–µ—Å—Ç—ñ–≤ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —á–∏ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞ —Å–ø–ª—ñ—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ, —á–∏ –Ω—ñ.

–í –ê/–ê-—Ç–µ—Å—Ç–∞—Ö –º–∏ —Ö–æ—á–µ–º–æ –ø—Ä–∏–π–º–∞—Ç–∏ –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É –ø–µ—Ä–µ–≤—ñ—Ä—è—é—á–∏ OEC (Overall Evaluation Criterion) - —á–∏ —î —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –≥—Ä—É–ø–∞–º–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –∑–Ω–∞—á—É—â–æ—é:

$$ OEC_{control_{1}} = OEC_{control_{2}} $$

–ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è –≤ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ —Å–ø–ª—ñ—Ç—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ —à–ª—è—Ö–æ–º –¥–≤–æ–µ—Ç–∞–ø–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

- **–ß–µ—Å–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –º—ñ–∂ –≥—Ä—É–ø–∞–º–∏**. –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞ —á–∞—Å—Ç–∫–∞–º–∏ —ñ –¥–∏—Å–ø–µ—Ä—Å—ñ—ó: —Å–ø–ª—ñ—Ç–æ–≤–∞–ª–∫–∞ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –±—É–¥—å-—è–∫—ñ–π —ñ–∑ –≥—Ä—É–ø –∑–∞ –±—É–¥—å-—è–∫–æ—é –æ–∑–Ω–∞–∫–æ—é, —á–µ—Ä–µ–∑ —â–æ –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è –¥–∏—Å–±–∞–ª–∞–Ω—Å ‚Üí –∑–º—ñ–Ω–∞ –¥–∏—Å–ø–µ—Ä—Å—ñ—ó —Ç–∞ —Å–µ—Ä–µ–¥–Ω—ñ—Ö
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ FPR –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫**. –ß–∞—Å—Ç–æ—Ç–∞ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –ø—Ä–æ–∫—Ä–∞—Å—ñ–≤ –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥,
–∫–æ–Ω–≤–µ—Ä—Å—ñ—è —ñ —Å–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫) –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤–∏—â–æ—é –∑–∞ –∑–∞–¥–∞–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 5%).

## –ï—Ç–∞–ø–∏ A/A —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –ü—Ä–æ–≤–æ–¥–∏–º–æ A/A —Ç–µ—Å—Ç. –ß–∞—Å –Ω–∞ A/A –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ç–∞–∫–∏–º —á–∏–Ω–æ–º, —â–æ–± –æ—Ö–æ–ø–∏—Ç–∏ —è–∫–æ–º–æ–≥–∞ –±—ñ–ª—å—à–µ —Ñ–∞–∫—Ç–æ—Ä—ñ–≤ –≤–ø–ª–∏–≤—É –Ω–∞ –º–µ—Ç—Ä–∏–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∏–∂–Ω–µ–≤–∞ —Å–µ–∑–æ–Ω–Ω—ñ—Å—Ç—å)
2. –°–∏–º—É–ª—é—î–º–æ –Ω–æ–≤—ñ A/A. –¢–µ—Å—Ç –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è ‚â• 10 —Ç–∏—Å. —Ä–∞–∑—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–∏–º—É–ª—è—Ü—ñ—ó –Ω–æ–≤–∏—Ö "—Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏—Ö" A/A
3. –†–∞—Ö—É—î–º–æ —Å—Ç–∞—Ç. –∑–Ω–∞—á—É—â—ñ—Å—Ç—å. –£ –∫–æ–∂–Ω–æ–º—É —Ç–µ—Å—Ç—ñ —Ä–∞—Ö—É—î—Ç—å—Å—è p-value –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ–≥–æ –æ—Ü—ñ–Ω—é–≤–∞—á–∞ (–±—É—Ç—Å—Ç—Ä–∞–ø, t-—Ç–µ—Å—Ç —Ç–æ—â–æ)
4. –†–∞—Ö—É—î–º–æ –º–µ—Ç—Ä–∏–∫—É —è–∫–æ—Å—Ç—ñ FPR (False Positive Rate)
5. –†–æ–±–∏–º–æ –≤–∏—Å–Ω–æ–≤–∫–∏. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —É–º–æ–≤–∞ FPR < $\alpha$, —ñ —è–∫—â–æ —É–º–æ–≤–∞ –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è, —Ç–æ —Å–ø–ª—ñ—Ç–æ–≤–∞–ª–∫–∞ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

## –ü–æ–∫–∞–∑–Ω–∏–∫ FPR {.smaller}

–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —è–∫–æ—Å—Ç—ñ —Å–ø–ª—ñ—Ç–æ–≤–∞–ª–∫–∏ —Ä–∞—Ö—É—î–º–æ —á–∞—Å—Ç–∫—É —Ö–∏–±–Ω–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏—Ö –æ—Ü—ñ–Ω–æ–∫ (FPR): 

$$ FPR = \frac{FP}{FP + TN} = \frac{FP}{N_{sim}}$$

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ FPR –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ: —á–∞—Å—Ç–æ—Ç–∞ —Ö–∏–±–Ω–∏—Ö –ø—Ä–æ—Ñ–∞—Ä–±–æ–≤—É–≤–∞–Ω—å –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤–∏—â–æ—é –∑–∞ –∑–∞–¥–∞–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ. FPR –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–≤–∏—â—É–≤–∞—Ç–∏ 0.05 –¥–ª—è Œ± = 0.05. –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ —ñ –¥–ª—è 0.01, 0.005 —Ç–æ—â–æ.

## –ü–æ–∫–∞–∑–Ω–∏–∫ FPR

![](img/aa.jpg){fig-align="center"}

–ß–µ—Ä–≤–æ–Ω–∞ –∑–∞—Ñ–∞—Ä–±–æ–≤–∞–Ω–∞ –æ–±–ª–∞—Å—Ç—å --- —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª Œ±. –Ø–∫—â–æ –±—ñ–Ω–∏ –≤–∏—â—ñ –∞–±–æ –Ω–∏–∂—á—ñ –∑–∞ —á–µ—Ä–≤–æ–Ω—É –ª—ñ–Ω—ñ—é, —Ç–æ —â–æ—Å—å –Ω–µ —Ç–∞–∫ —ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à—É–∫–∞—Ç–∏ –ø—Ä–∏—á–∏–Ω–∏.

## –ó–∞–≤–∏—â–µ–Ω–∏–π FPR

–û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏ –∫—Ä–∏—é—Ç—å—Å—è –≤ –∑–ª–∞–º–∞–Ω–æ–º—É —Å–ø–ª—ñ—Ç-–∞–ª–≥–æ—Ä–∏—Ç–º—ñ.

–ü—Ä–∏—á–∏–Ω–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —à—É–∫–∞—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ, –¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å–∫—Ä–∏–ø—Ç —ñ –π–æ–≥–æ –∑–∞–ø—É—Å–∫. –ß–∞—Å—Ç—ñ –∫–µ–π—Å–∏:

- –î–æ–≤–≥–µ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞ —â–æ–¥–æ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è id –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É —ñ —Å–ø–ª—ñ—Ç—É
- –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —Ç—ñ–π —á–∏ —ñ–Ω—à—ñ–π –≥—Ä—É–ø—ñ
- –ù–µ –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö / –∫–µ–π—Å–∞—Ö —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å–ø–ª—ñ—Ç-–∞–ª–≥–æ—Ä–∏—Ç–º
- –ë–∞–Ω–∞–ª—å–Ω–æ "–∑–ª–∞–º–∞–Ω–∏–π" —Ä–∞–Ω–¥–æ–º (–∑–∞–ª–∏—à–æ–∫ –≤—ñ–¥ –¥—ñ–ª–µ–Ω–Ω—è –∑–∞ —Å—É–º–æ—é —Ö–µ—à–∞?)

## –ü–æ—à—É–∫ –ø—Ä–∏—á–∏–Ω–∏

**–î–∏—Å–±–∞–ª–∞–Ω—Å —É –≥—Ä—É–ø–∞—Ö –∑–∞ –æ–ø–∏—Å–æ–≤–∏–º–∏ –æ–∑–Ω–∞–∫–∞–º–∏.**

–î–ª—è –ø–æ—à—É–∫—É –¥–∏—Å–±–∞–ª–∞–Ω—Å—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –ø–æ–¥—ñ–ª –≥—Ä—É–ø —ñ–∑ –≤—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –æ–∑–Ω–∞–∫. –¶—ñ–ª–∫–æ–º –ø—ñ–¥—ñ–π–¥—É—Ç—å:

- —Ä–µ–≥—ñ–æ–Ω
- –¥–∂–µ—Ä–µ–ª–æ —Ç—Ä–∞—Ñ—ñ–∫—É
- —Ç–∏–ø –±—Ä–∞—É–∑–µ—Ä–∞
- —Ç–æ—â–æ

## –°–∏–ª—å–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≥—Ä—É–ø

–î–ª—è –ø–æ—à—É–∫—É –ø—Ä–∏—á–∏–Ω–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Å—ñ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≥—Ä–∞–¥–∞—Ü—ñ–π –º—ñ–∂ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —ñ —Ç–µ—Å—Ç–æ–º:

- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ p-value –Ω–∞ —Ä—ñ–≤–Ω—ñ $\alpha$
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ FPR –Ω–∞ —Ä—ñ–≤–Ω—ñ $\alpha$ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

## –ö—Ä–∏—Ç–µ—Ä—ñ–π –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–∏—Å–±–∞–ª–∞–Ω—Å—É

–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ñ–∞–∫—Ç–∏—á–Ω–∏—Ö —á–∞—Å—Ç–æ–∫ –∑ —ó—Ö–Ω—ñ–º —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–º —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–º —Ä–æ–∑–ø–æ–¥—ñ–ª–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –∑–≥–æ–¥–∏. 

–£ —Å–∏—Ç—É–∞—Ü—ñ—ó –∑ –ê/–ê –ø—ñ–¥—ñ–π–¥–µ –∫—Ä–∏—Ç–µ—Ä—ñ–π **CMH** (Cochran-Mantel-Haenszel) –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞–±–ª–∏—Ü—å —Å–ø—Ä—è–∂–µ–Ω–æ—Å—Ç—ñ **2 —Ö 2 x K**, –¥–µ *K* - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞–¥–∞—Ü—ñ–π –∑–∞ –∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—é –æ–∑–Ω–∞–∫–æ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±—Ä–∞—É–∑–µ—Ä 1, –±—Ä–∞—É–∑–µ—Ä 2 —Ç–æ—â–æ).

–í Python —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –≤ `statsmodels.stats.contingency_tables.StratifiedTable`.

## –û–±–º–µ–∂–µ–Ω–Ω—è —ñ —ñ–Ω—à—ñ –º–æ–º–µ–Ω—Ç–∏

- –ê/–ê –±–∞–∂–∞–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ —è–∫–æ–º–æ–≥–∞ –¥–æ–≤—à–µ, —â–æ–± –¥–æ—Å—è–≥—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—ó —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—ñ (–æ—Ö–æ–ø–∏—Ç–∏ —Ç–∏–∂–Ω–µ–≤—É —Å–µ–∑–æ–Ω–Ω—ñ—Å—Ç—å —ñ —Ä—ñ–∑–Ω—ñ –≥—Ä—É–ø–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
- –£ —Ä–∞–∑—ñ, —è–∫—â–æ –Ω–µ–º–∞—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —á–µ–∫–∞—Ç–∏, —Ç–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–æ–≤–≥–æ–≥—Ä–∞—é—á—ñ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å–ø–ª—ñ—Ç—É
- –ü–æ—Å—Ç-—Å–∏–º—É–ª—è—Ü—ñ—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏ –±–µ–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å —É —Å–ø–ª—ñ—Ç–∞—Ö
- –î–ª—è –ø–æ—Å—Ç-—Å–∏–º—É–ª—è—Ü—ñ–π –Ω–∞–π–∫—Ä–∞—â–µ –ø—ñ–¥—ñ–π–¥–µ –±—É—Ç—Å—Ç—Ä–∞–ø, –∑–∞–≤–¥—è–∫–∏ —Å–≤–æ—ó–π —Ç–æ—á–Ω–æ—Å—Ç—ñ

::: footer
[{{< iconify devicon googlecolab >}} Google Colab: A/A Testing](https://colab.research.google.com/drive/1PB0BALDJH9Yi-5m-S6na7ibnrhP6Lf9R)
:::

# –î—è–∫—É—é –∑–∞ —É–≤–∞–≥—É! {.unnumbered .unlisted background-iframe=".03_files/libs/colored-particles/index.html"}

<br> <br>

{{< iconify solar book-bold >}} [–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∫—É—Ä—Å—É](https://aranaur.rbind.io/lectures/applied_analytics/)

{{< iconify mdi envelope >}} ihor.miroshnychenko\@knu.ua

{{< iconify ic baseline-telegram >}} [Data Mirosh](https://t.me/araprof)

{{< iconify mdi linkedin >}} [\@ihormiroshnychenko](https://www.linkedin.com/in/ihormiroshnychenko/)

{{< iconify mdi github >}} [\@aranaur](https://github.com/Aranaur)

{{< iconify ion home >}} [aranaur.rbind.io](https://aranaur.rbind.io)
