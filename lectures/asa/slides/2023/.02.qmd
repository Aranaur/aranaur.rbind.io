---
title: "–ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è"
subtitle: "–ü—Ä–∏–∫–ª–∞–¥–Ω–∏–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑"
author: "–Ü–≥–æ—Ä –ú—ñ—Ä–æ—à–Ω–∏—á–µ–Ω–∫–æ"
institute: –ö–ù–£ —ñ–º–µ–Ω—ñ –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞ | –§–Ü–¢
# date: today
# date-format: iso
from: markdown+emoji
title-slide-attributes:
  data-background-iframe: .02_files/libs/colored-particles/index.html
#   data-background-color: "#eef3f8"
language: _language-ua.yml
footer: üîó <a href="https://aranaur.rbind.io/lectures/asa/">–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∫—É—Ä—Å—É</a>
format: 
  revealjs:
    transition: fade
    chalkboard: true
    logo: img/fit.png
    code-line-numbers: false
    slide-number: c/t
    mouse-wheel: true
    width: 1350  
    height: 759.375
    # highlight-style: github
    pdf-separate-fragments: true
    theme: [default, custom.scss]
    fig-width: 15
    fig-height: 7.5
knitr: 
  opts_chunk: 
    fig.align: center
    echo: true
    warnings: false
    message: false
editor_options: 
  chunk_output_type: console
---

```{python}
#| label: setup
#| include: false

# Import libraries
import numpy as np
import pandas as pd
import statsmodels.api as sm
import matplotlib.pyplot as plt
import seaborn as sns
from scipy.stats import norm, uniform

from IPython.display import Markdown
from tabulate import tabulate

# Set seaborn default style
sns.set_style('whitegrid')
sns.set_palette('colorblind')

# Define colors
red_pink   = "#e64173"
turquoise  = "#20B2AA"
orange     = "#FFA500"
red        = "#fb6107"
blue       = "#181485"
navy       = "#150E37FF"
green      = "#8bb174"
yellow     = "#D8BD44"
grey_light = "grey70"
grey_mid   = "grey50"
grey_dark  = "grey20"
purple     = "#6A5ACD"
slate      = "#314f4f"
```

# –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

## –ë—ñ–ª—å—à–µ –ø–æ—è—Å–Ω—é–≤–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö

–ú–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –≤—ñ–¥ **–ø—Ä–æ—Å—Ç–æ—ó –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó** (–æ–¥–Ω–∞ [–Ω–µ–∑–∞–ª–µ–∂–Ω–∞]{.purple} –∑–º—ñ–Ω–Ω–∞ —Ç–∞ –æ–¥–Ω–∞ [–∑–∞–ª–µ–∂–Ω–∞]{.pink})

$$ \color{#e64173}{y_i} = \beta_0 + \beta_1 \color{#6A5ACD}{x_i} + u_i $$

–¥–æ **–º–Ω–æ–∂–∏–Ω–Ω–æ—ó –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó** (–¥–µ–∫—ñ–ª—å–∫–∞ [–Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö]{.purple} —Ç–∞ –æ–¥–Ω–∞ [–∑–∞–ª–µ–∂–Ω–∞]{.pink} –∑–º—ñ–Ω–Ω—ñ)

$$ \color{#e64173}{y_i} = \beta_0 + \beta_1 \color{#6A5ACD}{x_{1i}} + \beta_2 \color{#6A5ACD}{x_{2i}} + \cdots + \beta_k \color{#6A5ACD}{x_{ki}} + u_i $$

**–ß–æ–º—É?**

. . .

–ú–∏ –º–æ–∂–µ–º–æ –∫—Ä–∞—â–µ –ø–æ—è—Å–Ω–∏—Ç–∏ –≤–∞—Ä—ñ–∞—Ü—ñ—é $y$, –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏, —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–º—ñ—â–µ–Ω–Ω—è –ø—Ä–æ–ø—É—â–µ–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö ...

## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

```{python}
#| label: gen-data
#| include: false

n = 100
np.random.seed(123)

gen_df = pd.DataFrame({
    'x1': np.random.uniform(-3, 3, n)
})
gen_df['x2'] = np.random.choice([True, False], n, replace=True)
gen_df['u'] = np.random.normal(0, 1, n)
gen_df['y'] = -0.5 + gen_df['x1'] + gen_df['x2'] * 4 + gen_df['u']

mean_a = gen_df[gen_df['x2'] == False]['y'].mean()
mean_b = gen_df[gen_df['x2'] == True]['y'].mean()

gen_df['y_dm'] = gen_df['y'] - mean_a * (gen_df['x2'] == False) - mean_b * (gen_df['x2'] == True)
```

$y_i = \beta_0 + \beta_1 x_{1i} + \beta_2 x_{2i} + u_i \quad$ $x_1$ —î –Ω–µ–ø–µ—Ä–µ—Ä–≤–Ω–∏–º $\quad x_2$ —î –∫–∞—Ç–µ–≥–æ—Ä—ñ–∞–ª—å–Ω–∏–º

```{python}
#| label: plot-data
#| echo: false

graph = sns.scatterplot(x='x1', y='y', hue='x2', data=gen_df, palette=sns.color_palette(["darkslategrey", red_pink]))
graph.axvline(0, color='grey', alpha=0.8)
graph.axhline(0, color='grey', alpha=0.8)
plt.tick_params(left = False, right = False , labelleft = False , 
                labelbottom = False, bottom = False)
plt.ylabel('')
plt.xlabel('')
plt.annotate(text='y', xy = (0, 0), xytext = (-0.2, 4.5))
plt.annotate(text='x', xy = (0, 0), xytext = (3.5, -0.2))
plt.box(False)
plt.grid(None)
plt.show()
```

## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

$\beta_0$ —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ $x_2$ –∫–µ—Ä—É—é—Ç—å —Å–µ—Ä–µ–¥–Ω—ñ–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –≥—Ä—É–ø.

```{python}
#| label: plot-data2
#| echo: false

graph = sns.scatterplot(x='x1', y='y', hue='x2', data=gen_df, palette=sns.color_palette(["darkslategrey", red_pink]))
graph.axvline(0, color='grey')
graph.axhline(mean_a, color="darkslategrey", alpha=0.2)
graph.axhline(mean_b, color=red_pink, alpha=0.2)
graph.axhline(0, color='grey')
plt.tick_params(left = False, right = False , labelleft = False , 
                labelbottom = False, bottom = False)
plt.ylabel('')
plt.xlabel('')
plt.annotate(text='y', xy = (0, 0), xytext = (-0.2, 8.5))
plt.annotate(text='x', xy = (0, 0), xytext = (3.5, -0.2))
plt.box(False)
plt.grid(None)
plt.show()
```

## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

–Ø–∫—â–æ –ø—Ä–∏–±—Ä–∞—Ç–∏ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –≥—Ä—É–ø:

```{python}
#| label: plot-data3
#| echo: false

graph = sns.scatterplot(x='x1', y='y_dm', hue='x2', data=gen_df, palette=sns.color_palette(["darkslategrey", red_pink]))
graph.axvline(0, color='grey')
graph.axhline(0, color='grey')
plt.tick_params(left = False, right = False , labelleft = False , 
                labelbottom = False, bottom = False)
plt.ylabel('')
plt.xlabel('')
plt.annotate(text='y', xy = (0, 0), xytext = (-0.2, 4.5))
plt.annotate(text='x', xy = (0, 0), xytext = (3.5, -0.2))
plt.ylabel('y')
plt.box(False)
plt.grid(None)
plt.show()
```

## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

$\hat{\beta}_1$ –æ—Ü—ñ–Ω—é—î —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –º—ñ–∂ $y$ —ñ $x_1$ –ø—ñ—Å–ª—è –≤—Ä–∞—Ö—É–≤–∞–Ω–Ω—è $x_2$.

```{python}
#| label: plot-data4
#| echo: false

graph = sns.scatterplot(x='x1', y='y_dm', hue='x2', data=gen_df, palette=sns.color_palette(["darkslategrey", red_pink]))
sns.regplot(x='x1', y='y_dm', data=gen_df, scatter=False, color=orange, ci=None)
graph.axvline(0, color='grey')
graph.axhline(0, color='grey')
plt.tick_params(left = False, right = False , labelleft = False , 
                labelbottom = False, bottom = False)
plt.ylabel('')
plt.xlabel('')
plt.annotate(text='y', xy = (0, 0), xytext = (-0.2, 4.5))
plt.annotate(text='x', xy = (0, 0), xytext = (3.5, -0.2))
plt.box(False)
plt.grid(None)
plt.show()
```

## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

–Ü–Ω—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –ø–æ–≥–ª—è–Ω—É—Ç–∏ –Ω–∞ —Ü–µ:

```{python}
#| label: plot-data5
#| echo: false
#| eval: false

sns.lmplot(x='x1', y='y', hue='x2', data=gen_df, scatter=True, ci=None, palette=sns.color_palette(["darkslategrey", red_pink]))
plt.axvline(0, color='grey')
plt.axhline(0, color='grey')
plt.tick_params(left = False, right = False , labelleft = False , 
                labelbottom = False, bottom = False)
plt.ylabel('')
plt.xlabel('')
plt.annotate(text='y', xy = (0, 0), xytext = (-0.2, 4.5))
plt.annotate(text='x', xy = (0, 0), xytext = (3.5, -0.2))
plt.gcf().set_size_inches(15, 7.5)
plt.ylabel('y')
plt.box(False)
plt.grid(False)
plt.show()
```

![](img/plot-data5-10.png){fig-align="center"}


## –ú–Ω–æ–∂–∏–Ω–Ω–∞ —Ä–µ–≥—Ä–µ—Å—ñ—è

–ü–æ–≥–ª—è–Ω–µ–º–æ –Ω–∞ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –º–æ–¥–µ–ª—ñ...

–î–ª—è –ø—Ä–æ—Å—Ç–æ—ó –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó $y_i = \beta_0 + \beta_1 x_i + u_i$













# –î—è–∫—É—é –∑–∞ —É–≤–∞–≥—É! {background-color="#eef3f8"}

<br>
<br>

{{< iconify ic baseline-telegram >}} [Data Mirosh](https://t.me/araprof)

{{< iconify mdi github >}} [aranaur](https://github.com/Aranaur)

{{< iconify mdi envelope >}} ihor.miroshnychenko\@knu.ua

{{< iconify mdi linkedin >}} [ihormiroshnychenko](https://www.linkedin.com/in/ihormiroshnychenko/)

{{< iconify ion home >}} [aranaur.rbind.io](https://aranaur.rbind.io)